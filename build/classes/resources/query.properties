<<<<<<<=query.properties
fn_getTisForAdjustedDivisor=SELECT fn_getTisForAdjustedDivisor(? , ?);
get_indexWiseIwf_closingValue_divisorAdjustemnt= select sm.stock_id,sm.iwf,spd.stock_closing_value from stock_master sm LEFT OUTER JOIN stock_price_daily spd on spd.stock_id = sm.stock_id where spd.stock_price_date = ? and sm.stock_id in (select stock_id from index_composition where index_id = ? ) order by stock_id
check_ca_for_date=select count(*) from corporate_action_diary where ex_date \=? and status \='y'
query_copy_indexmaster=select * from index_master where index_id\=?
get_username_and_password=Select  * from users  where username\=? and password\=?
get_index_base_currency=select currency_name from currencies c,index_master im where c.currency_id\=im.base_currency_id
get_parent_id=select index_id from  index_master where index_name\=?
check_user_already_exists=select * from  users where username\=?
insert_into_users=insert into  users (user_id,client_id,first_name,middle_name,last_name,date_of_birth,designation,branch,add1,add2,city,country,zipcode,phone_no,mobile_no,username,password,email,gender,security_question,answer)  values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
get_user_id=select * from  users where username\=? and password\=?
forgot_password_sec_que=select * from  users  where username\=? and answer\=? and date_of_birth\=? and security_question\=?
forgot_password_no_sec_que=select * from  users  where username\=? and country\=? and date_of_birth\=? and zipcode\=?
get_index_daily_values_between_date_OHLC=select index_id,index_value_date,index_opening_value,index_highest_value,index_lowest_value,index_closing_value from  index_value_daily where (index_id\=? or index_id\=? or  index_id\=? )    and to_date(index_value_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and to_date(index_value_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') order by to_date(index_value_date,'dd-mm-yyyy')
client_list=select client_id,client_name from  clients_master order by upper(client_name)
get_max_user_id=select max(user_id) from  users
insert_into_users_is_not_client=insert into  users (user_id,first_name,middle_name,last_name,date_of_birth,designation,branch,add1,add2,city,country,zipcode,phone_no,mobile_no,username,password,email,gender,security_question,answer,client_id) values  (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
index_list=select index_id,index_name from index_master where user_id\=? and is_active\='y' order by upper(index_name),to_date(creation_date,'dd-mm-yyyy')
index_list1=select index_id,index_name from  index_master where is_active\='y' and is_captured\='n' order by upper(index_name),to_date(creation_date,'dd-mm-yyyy')
index_list_forindexdefination=select index_id,index_name from  index_master where is_active\='y' and index_type_id<>'4' and index_type_id<>'5' and is_captured <>'y' order by upper(index_name),to_date(creation_date,'dd-mm-yyyy')
index_list_without_child=select index_id,index_name from  index_master where user_id\=? and is_active\='y' and is_child\='n' and is_captured\='n' order by upper(index_name),to_date(creation_date,'dd-mm-yyyy')
insert_into_index_value_daily1=INSERT INTO index_value_daily ( index_value_daily_id, index_opening_value, index_highest_value,  index_lowest_value, index_id, index_value_date, divisor, tmcv,adjusted_tmcv,adjusted_divisor,fwh,fwl  ) VALUES ((select nextval('index_value_daily_id')),?,?,?,?,?,?,?,?,?,?,?)
index_list_withoutchild=select index_id,index_name from  index_master where is_active\='y' and is_child\='n' and index_type_id<>'4' and index_type_id<>'5' and is_captured <>'y' order by upper(index_name),to_date(creation_date,'dd-mm-yyyy')
delete_corp_diary=delete from corporate_action_diary where cad_id\=?
index_list_by_date_desc=select index_id,index_name from  index_master  where is_active\='y' order by to_date(creation_date,'dd-mm-yyyy') desc
select_type_from_stock_master=select  stock_type_id from stock_master  where stock_name\=?
forgot_password=select * from users where date_of_birth\=? and zipcode\=? and country\=? and username\=?
select_type_from_stock_identifier_codes=select sm.stock_type_id from stock_master sm,stock_identifier_codes sic where sic.identifier_code_value\=? and sic.stock_id\=sm.stock_id
insert_index_com_his=insert into index_composition_history(index_ch_id,index_id,stock_id,mcv,iwf,history_date,cad_id) values((SELECT nextval('index_ch_id')),?,?,?,?,?,?)
delete_index_comp=delete from index_composition where index_id\=? and stock_id\=?
query_totalreturns_stockdetails=select  amount*sm.tis as dividend,sm.stock_currency_id from corporate_action_diary cad, stock_master sm, corporate_action_master cam where sm.stock_id\=cad.stock_id and to_date(applied_date,'dd-mm-yyyy') >\=to_date(?,'dd-mm-yyyy') and to_date(applied_date,'dd-mm-yyyy') <\= current_date and   lower(cam.cam_name) like lower('%cash dividend') and cam.cam_id\=cad.cam_id and cad.stock_id in (select stock_id from index_composition where index_id in (select parent_id from index_master where index_id\=?))
query_totalreturns=select index_closing_value as today,base_currency_id,adjusted_divisor,(select index_closing_value  from index_value_daily ivd, index_master im where to_date(index_value_date,'dd-mm-yyyy')<to_date(?,'dd-mm-yyyy') and im.index_id\=ivd.index_id and im.index_id in (select parent_id from index_master where index_id\=?) order by to_date(index_value_date,'dd-mm-yyyy') desc limit 1) as last_closing from index_value_daily ivd, index_master im where to_date(index_value_date,'dd-mm-yyyy')\=to_date(?,'dd-mm-yyyy') and im.index_id\=ivd.index_id and im.index_id in (select parent_id from index_master where index_id\=?) limit 1
currency_combination=select * from from_to_currency where to_currency_id\=? and from_currency_id\=?
index_comp_detail=select * from index_composition where index_id\=? and stock_id\=?
select_resp_stock=select stock_id,stock_name,is_active from stock_master where stock_id not in (select stock_id from index_composition where index_id\=?) and stock_exchange_id\=? order by upper(stock_name)
stock_exchange_list=select stock_ex_id,stock_ex_name from  stock_exchange_master order by upper(stock_ex_name)
get_composition_of_parent=select iwf,stock_id,mcv from  index_composition where index_id\=?
index_wise_stock_details=select sm.stock_name,spd.adjusted_price as ltp,ic.iwf,currency_code  from   stock_master sm, index_composition ic,   stock_price_daily spd,  currencies c  where  ic.index_id\=? and  sm.is_active\='y' and   ic.stock_id\=sm.stock_id and  sm.stock_currency_id\=c.currency_id and   ic.stock_id\=spd.stock_id and   stock_price_daily_id in (select max(stock_price_daily_id ) from   stock_price_daily group by stock_id)
stock_exchange_wise_stock_details=select sm.stock_id,sm.stock_name,sm.iwf,idsp.price_date ,idsp.ltp,c.currency_code,sm.tis,sm.market_lot from  (select sm.stock_id,sm.stock_name,sm.iwf,sm.tis,sm.market_lot,sm.stock_currency_id from stock_master sm where  sm.stock_exchange_id\=? and  sm.is_active\='y') sm left outer join  (select idsp.stock_id,idsp.price_date ,idsp.ltp from intra_day_stock_prices idsp where   idsp.intra_day_stock_price_id in  (select max(intra_day_stock_price_id )  from  intra_day_stock_prices group by stock_id) ) idsp on (sm.stock_id\=idsp.stock_id),currencies c  where  sm.stock_currency_id\=c.currency_id  order by sm.stock_id 
stock_closingvalue=select  stock_closing_value from stock_price_daily where stock_id\=? and stock_price_date\=to_char(current_date,'dd-mm-yyyy')
insert_new_index=insert into  index_master values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
select_from_countries=select * from countries order by country_name
update_index_compose_mcv=update  index_composition set mcv\=?  where index_id\=? and stock_id\=?
index_type_list=select index_type_id,index_type_name from  index_type where segment\='EQ' and is_active\='y' order by index_type_name
s_stock_type_list=select stock_type_id,stock_type_name from  stock_type order by stock_type_name
index_alert_rejection_percentage=select alert_percentage,rejection_percentage from  system_configuration
get_system_time_interval=select computation_interval from system_configuration
index_feed_provider=select feed_provider_id,feed_provider_name from  feed_provider order by feed_provider_name
compute_index2=select DISTINCT(intra_day_stock_price_id),idsp.ltp,sm.market_lot,sm.stock_id,sm.tis,idsp.price_date,idsp.price_time, sm.stock_currency_id,im.base_currency_id,ic.iwf,im.base_value  from    intra_day_stock_prices idsp,   stock_master sm,   currencies c,   index_composition ic,   index_master im  where  ic.index_id\=? and  sm.is_active\='y' and  ic.index_id\=im.index_id and   ic.stock_id\=sm.stock_id and  sm.stock_currency_id\=c.currency_id and   sm.stock_id\=idsp.stock_id and   idsp.intra_day_stock_price_id in  (select max(intra_day_stock_price_id) from    intra_day_stock_prices idsp group by idsp.stock_id) 
compute_index=select intra_day_stock_price_id,to_char(ltp,'999999999909.09') as "ltp",market_lot, stock_id ,tis, price_date,price_time ,stock_currency_id ,base_currency_id ,iwf ,base_value from compute_index1(?,?) as ss(intra_day_stock_price_id int8,ltp float8,market_lot int8,stock_id int8,tis int8, price_date varchar(20),price_time varchar(20),stock_currency_id int8,base_currency_id varchar(20),iwf float4,base_value float8)
compute_indexltp=select intra_day_stock_price_id,to_char(ltp,'999999999909.09') as "ltp",market_lot, stock_id ,tis, price_date,price_time ,stock_currency_id ,base_currency_id ,iwf ,base_value from compute_index_ltp(?,?) as ss(intra_day_stock_price_id int8,ltp float8,market_lot int8,stock_id int8,tis int8, price_date varchar(20),price_time varchar(20),stock_currency_id int8,base_currency_id varchar(20),iwf float4,base_value float8)
select_daily_divisor=select adjusted_divisor from  index_value_daily  where index_value_daily_id in  (select max(index_value_daily_id) from  index_value_daily where index_id\=?  )
get_exchange_rate=select from_currency_id,to_currency_id,intra_day_ex_rate_value from  intra_day_exchange_rate ider, from_to_currency ftc where ftc.from_to_currency_id\=ider.from_to_currency_id 
get_high_low_index_value=select is_settlement_value, index_lowest_value,index_highest_value from  index_value_daily where index_id\=? and index_value_date\=?
update_settlement_value=update  index_value_daily set is_settlement_value\=?   where index_id\=? and index_value_date\=?
update_close_value=update  index_value_daily set index_closing_value\=?   where index_id\=? and index_value_date\=?
update_high_index_value=update  index_value_daily set index_highest_value\=?   where index_id\=? and index_value_date\=?
update_low_index_value=update  index_value_daily set index_lowest_value\=? where index_id\=? and index_value_date\=?
update_tis_stockmaster=update  stock_master set  tis\=?,face_value\=? where stock_id\=? 
stock_type_list=select stock_type_name from stock_type order by upper(stock_type_name)
capital_change_to_universe=select sm.stock_id,sm.stock_name,smh.face_value,smh.tis,spd.mcv,sm.iwf,smh.history_date ,cam.cam_name from  stock_master sm, stock_master_history smh,stock_price_daily spd ,corporate_action_diary cad,corporate_action_master cam where to_date(smh.history_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and to_date(smh.history_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') and \tsm.stock_exchange_id\=? and char_length(smh.cad_id)>0 and  sm.stock_id\=smh.stock_id and spd.stock_id\=sm.stock_id and spd.stock_id\=smh.stock_id and smh.cad_id\=cad.cad_id and cam.cam_id\=cad.cam_id and smh.history_date\=spd.stock_price_date order by to_date(smh.history_date,'dd-mm-yyyy')
company_list=select company_id,company_name from  company order by upper(company_name)
stock_holding_pattern=select category,sub_category,securities_held,percentage_holding from  stock_holding_pattern shp, company c where shp.company_id\=?  and shp.company_id\=c.company_id 
select_rep_cad=select * from corporate_action_diary where cad_id\=?
insert_stock_master=insert into stock_master_history values((SELECT NEXTVAL('stock_mh_id')),?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
get_corp_name=select * from corporate_action_master where cam_id\=?
get_company_name=select company_name from  company where company_id\=?
insert_into_index_value_daily=insert into  index_value_daily ( index_value_daily_id, index_opening_value, index_highest_value,  index_lowest_value,  index_closing_value,index_id, index_value_date,is_settlement_value,divisor ,tmcv ,adjusted_tmcv ,adjusted_divisor,fwh,fwl)values((select nextval('index_value_daily_id')),?,?,?,?,?,?,?,?,?,?,?,?,?)
insert_into_intra_day_indices=insert into   intra_day_indices values((select nextval('intra_day_indices_id')),?,?,?,?,?)
stock_weightage_latest=select sm.stock_id,sm.stock_name,c.currency_code,sm.tis, ic.iwf,spd.adjusted_price as stock_closing_value,ic.mcv, ((ic.mcv)/ivd.adjusted_tmcv)*100 as weightage,spd.stock_price_date,sm.market_lot from  index_composition ic, stock_master sm,currencies c, stock_price_daily spd, (select adjusted_tmcv,index_id,index_value_date from  index_value_daily where index_id\=? and to_date(index_value_date,'dd-mm-yyyy') in (select max(to_date(index_value_date,'dd-mm-yyyy') ) from index_value_daily where index_id\=? ))  ivd  where sm.is_active\='y' and ivd.index_id\=ic.index_id and  ic.stock_id\=sm.stock_id  and  sm.stock_id\=spd.stock_id and  sm.stock_currency_id\=c.currency_id  and stock_price_daily_id in (select max(stock_price_daily_id) from stock_price_daily where to_date(stock_price_date,'dd-mm-yyyy') in (select max(to_date(stock_price_date,'dd-mm-yyyy')) from stock_price_daily group by stock_id) group by stock_id )order by to_date(spd.stock_price_date,'dd-mm-yyyy')
select_from_stock_type_where=select stock_type_name,stock_type_id from  stock_type where stock_type_name\\\=?
insert_into_stock_type=insert into stock_type values(?,?)
get_stock_exchange_name=select stock_ex_name from  stock_exchange_master where stock_ex_id\=?
get_stock_exchange_wise_identifier_code=select identifier_code_name,sem.identifier_code_id,currency_id,sem.country_id from  stock_exchange_master sem,identifier_codes ic,countries c where stock_ex_id\=? and  sem.identifier_code_id\=ic.identifier_code_id and c.country_id\=sem.country_id 
get_company_id=select company_id from  company where lower(company_name)\=lower(?)
get_alert_reject_per_from_sysconfig=select alert_percentage,rejection_percentage from  system_configuration
insert_into_stock_master=insert into  stock_master values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
insert_into_stock_master_history=insert into  stock_master_history values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
insert_into_stock_identifier_codes=insert into stock_identifier_codes values(?,?,?,?,?)
stock_weightage_date_wise=select sm.stock_name,c.currency_code,sm.tis,ic.iwf,spd.adjusted_price as stock_closing_value, ic.mcv,(ic.mcv/ivd.adjusted_tmcv)*100 as weightage, spd.stock_price_date from  stock_price_daily spd, index_composition ic,  stock_master sm, currencies c,  index_value_daily ivd  where spd.stock_price_date\=? and ic.index_id\=? and sm.is_active\='y' and ic.stock_id\=spd.stock_id and  sm.stock_id\=spd.stock_id and  sm.stock_currency_id\=c.currency_id and  ic.index_id\=ivd.index_id and  ivd.index_value_date\=spd.stock_price_date 
sector_list=select  industry_classification_code,sector_name from  sector_master order by sector_name
stock_list=select stock_id,stock_name,is_active from  stock_master where stock_exchange_id\=? order by upper(stock_name)
industry_group_list=select industry_classification_code,industry_group_name from  industry_group order by industry_group_name
industry_list=select  industry_classification_code,industry_name  from  industry order by industry_name
get_stock_id_from_stock_identifier_codes=select sic.stock_id from  stock_identifier_codes sic,  identifier_codes ic where identifier_code_value\=? and  ic.identifier_code_name\=? and sic.series\=? AND  sic.identifier_code_id\=ic.identifier_code_id 
get_identifier_code_name_stock_identifier_codes=select ic.identifier_code_name from identifier_codes ic,stock_exchange_master sem where sem.stock_ex_id\=? and sem.identifier_code_id\=ic.identifier_code_id
index_cad_details=select cam.cam_name,cam.cam_shortname,sm.stock_name,i.index_name,cad.apply_on_date,cad.applied_date,cad.values,cad.status,cad.base_date ,sm.exchange_name from index_master i ,corporate_action_master cam ,corporate_action_diary cad left outer join (select cad_id,stock_name,sem.stock_ex_name as exchange_name from corporate_action_diary cad ,stock_master sm,stock_exchange_master sem where  cad.stock_id\=sm.stock_id and  stock_exchange_id\=sem.stock_ex_id) sm on (sm.cad_id\=cad.cad_id) where cad.cad_id\=? and cad.cam_id\=cam.cam_id and cad.index_id\=i.index_id   
select_index_type=select it.index_type_id,it.index_type_name from index_master im,index_type it where index_id\=? and im.index_type_id\=it.index_type_id
index_corp_details=select cad.cad_id,cad.cam_id,cad.stock_id,cam.cam_name,cam.cam_shortname,sm.stock_name,sm.stock_exchange_id,cad.index_id,i.index_name,cad.apply_on_date,cad.applied_date,cad.values,cad.base_date,cad.status,cad.ex_date,cad.announce_date,cad.record_date,cad.amount,cad.description from index_master i ,corporate_action_master cam ,corporate_action_diary cad left outer join (select cad_id,stock_name,stock_exchange_id from corporate_action_diary cad ,stock_master sm where  cad.stock_id\=sm.stock_id ) sm on (sm.cad_id\=cad.cad_id) where cad.cad_id\=? and cad.cam_id\=cam.cam_id and cad.index_id\=i.index_id
insert_index_corp=insert into corporate_action_diary(cad_id,announce_date,ex_date,record_date,apply_on_date,cam_id,stock_id,index_id,values,status) values(?,?,?,?,?,?,?,?,?,?,?)
update_index_cad=update corporate_action_diary set announce_date\=?,ex_date\=?,record_date\=?,apply_on_date\=?,applied_date\=?,cam_id\=?,stock_id\=?,index_id\=?,values\=?,base_date\=?,status\=?  where cad_id\=?
select_index=select * from index_master where is_captured\='n' order by index_name
index_details=select index_name,creation_date,base_date,base_value,computation_interval,is_captured,captured_from,m_start_time,n_stop_time,o_ric,is_child,parent_id,parent,currency_name,currency_id,industry_classification_code,is_customized,growth_or_value,isin,industry_classification_name,it.index_type_name,it.index_type_id from index_master im left outer join(select index_name as parent,index_id from index_master where index_id in(select parent_id from index_master where index_id\=?)) imp on (im.parent_id\=imp.index_id),currencies c,industry_classification_master icm,index_type it where im.index_id\=? and c.currency_id\=im.base_currency_id and im.industry_classification_id\=icm.industry_classification_id and it.index_type_id\=im.index_type_id
get_corporate_list_index=select cam_id,cam_name,cam_shortname from corporate_action_master where corporate_action_type\='index event'and is_active\='y' order by upper(cam_name)
select_stock_index=select * from (select distinct i.stock_id,s.stock_name,s.stock_exchange_id,s.is_active from index_composition i,stock_master s,stock_exchange_master sm where i.index_id\=? and i.stock_id\=s.stock_id and s.stock_exchange_id\=sm.stock_ex_id) v1 order by upper(stock_name)
select_index_cad=select i.index_name,c.cam_name,cd.apply_on_date,cd.values,cd.status from index_master i,corporate_action_master c,corporate_action_diary cd where cd.cad_id\=? and cd.cam_id\=c.cam_id and cd.index_id\=i.index_id
sub_industry_list=select  industry_classification_code,sub_industry_name from  sub_industry order by sub_industry_name
get_latest_stock_closing_value_tis=select  stock_closing_value,adjusted_price from  stock_price_daily where stock_id\=? and to_date(stock_price_date,'dd-mm-yyyy')\=(select max(to_date(stock_price_date,'dd-mm-yyyy')) from  stock_price_daily where stock_id\=?) 
currency_list1=select currency_id,currency_name,currency_code from  currencies order by currency_name
currency_list=select c.currency_id,country_name || ' \: ' ||  currency_name from   currencies cr,  countries c where currency_name<>'Other' and c.currency_id\=cr.currency_id order by country_name
all_index_details=select im.index_name ,idi.index_value as current,ivd.index_opening_value, ivd.index_highest_value,ivd.index_lowest_value,ivd.index_closing_value, lst.indexclsvalue, ivd.adjusted_tmcv,ivd.adjusted_divisor,c.currency_code,ivd.index_value_date,im.n_stop_time,ivd.index_id  from (select max(index_closing_value) as indexclsvalue ,index_id from  index_value_daily  where to_date(index_value_date,'dd-mm-yyyy') in(select max(to_date(index_value_date,'dd-mm-yyyy'))  from  index_value_daily where to_date(index_value_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') group by index_id )  group by index_id )  as lst,  index_value_daily ivd,  index_master im,  intra_day_indices idi, currencies c  where im.is_active\='y' and im.is_child\='n' and lst.index_id\=ivd.index_id and  im.index_id\=ivd.index_id and im.user_id\=? and idi.index_id\=ivd.index_id  and idi.index_on_date\=ivd.index_value_date  and  c.currency_id\=im.base_currency_id and idi.intra_day_indices_id in  (select max(intra_day_indices_id) from  intra_day_indices idi where idi.index_on_date\=? group by idi.index_id) order by to_date(ivd.index_value_date,'dd-mm-yyyy') 
all_index_details_bench=select im.index_name ,idi.index_value as current,ivd.index_opening_value, ivd.index_highest_value,ivd.index_lowest_value,ivd.index_closing_value, lst.indexclsvalue, ivd.adjusted_tmcv,ivd.adjusted_divisor,c.currency_code,ivd.index_value_date,im.n_stop_time,ivd.index_id  from (select max(index_closing_value) as indexclsvalue ,index_id from  index_value_daily  where to_date(index_value_date,'dd-mm-yyyy') in(select max(to_date(index_value_date,'dd-mm-yyyy'))  from  index_value_daily where to_date(index_value_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') group by index_id )  group by index_id )  as lst,  index_value_daily ivd,  index_master im,  intra_day_indices idi, currencies c  where im.is_active\='y' and im.is_child\='n' and lst.index_id\=ivd.index_id and  im.index_id\=ivd.index_id and next_day\=1 and idi.index_id\=ivd.index_id  and idi.index_on_date\=ivd.index_value_date  and  c.currency_id\=im.base_currency_id and idi.intra_day_indices_id in  (select max(intra_day_indices_id) from  intra_day_indices idi where idi.index_on_date\=? group by idi.index_id) order by to_date(ivd.index_value_date,'dd-mm-yyyy')
get_adjusted_stock_price=select adjusted_price,spd.stock_closing_price from  stock_price_daily spd,  index_composition ic where  ic.index_id\=1 and ic.stock_id\=spd.stock_id and spd.stock_id\=? and to_date(stock_price_date,'dd-mm-yyyy') \= to_date(?,'dd-mm-yyyy') - 1
corporate_action_parameters=select spd.adjusted_price as ltp,spd.mcv,sm.tis,ivd.adjusted_divisor,ivd.adjusted_tmcv,ic.iwf ,spd.stock_price_date from  stock_master sm,  stock_price_daily spd,  index_composition ic,  index_value_daily ivd  where  stock_price_date\=? and ic.index_id\=? and spd.stock_id\=? and ic.stock_id\=sm.stock_id and  sm.stock_id\=spd.stock_id and ic.index_id\=ivd.index_id and spd.stock_price_date\=ivd.index_value_date
update_index_value_daily_set_closing_value=update  index_value_daily set index_closing_value\=? ,tmcv\=? where index_id\=? and index_value_date\=?
insert_into_intra_day_stock_prices=insert into  intra_day_stock_prices(intra_day_stock_price_id,ltp,price_date,price_time,stock_id) values((select nextval('intra_day_stock_price_id')),?,?,?,?)
get_stock_high_low_value=select stock_highest_value,stock_lowest_value from  stock_price_daily where stock_price_date\=? and stock_id\=?
get_latest_tis_stock_wise=select tis from  stock_price_daily where stock_id\=? and to_date(stock_price_date,'dd-mm-yyyy') \=(select max(to_date(stock_price_date,'dd-mm-yyyy')) from  stock_price_daily)
select_ltp_from_intra_day_stock_prices=select ltp from  intra_day_stock_prices where intra_day_stock_price_id in (select max(intra_day_stock_price_id) from  intra_day_stock_prices where stock_id\=? and price_date \=? )
select_from_stock_price_daily=select stock_opening_value,stock_highest_value,stock_lowest_value from  stock_price_daily where stock_price_date\=? and stock_id\=?
select_resp_cam=select * from corporate_action_master where cam_id\=?
select_from_rating_code=select * from rating_codes
update_high_stock_price_daily=update  stock_price_daily set stock_highest_value\=? where stock_id\=? and stock_price_date\=?
update_low_stock_price_daily=update  stock_price_daily set stock_lowest_value\=? where stock_id\=? and stock_price_date\=?
update_stock_price_daily_set_adjusted_value=update  stock_price_daily set mcv\=?,adjusted_price\=? where stock_id\=? and stock_price_date\=?
insert_into_stock_price_daily_old=insert into  stock_price_daily (stock_price_daily_id,stock_opening_value,stock_highest_value,stock_lowest_value,stock_closing_value,stock_id,traded_volume,stock_price_date,adjusted_price,mcv,last) values((select nextval('stock_price_daily_id')),?,?,?,?,?,?,?,?,?,?)
update_high_close_stock_price=update  stock_price_daily set stock_highest_value\=? ,stock_closing_value\=? where stock_id\=? and stock_price_date\=?
update_low_close_stock_price=update  stock_price_daily set stock_lowest_value\=? ,stock_closing_value\=? where stock_id\=? and stock_price_date\=?
tree_index=select sic.identifier_code_value,im.index_name,sic.stock_id,im.index_id from  stock_identifier_codes sic, identifier_codes ic,  stock_exchange_master sem, stock_master sm,  index_composition icmp,  index_master im  where im.is_active\='y' and im.is_child\='n' and sm.is_active\='y' and im.index_id\=icmp.index_id and icmp.stock_id\=sm.stock_id and  sm.stock_exchange_id\=sem.stock_ex_id and sem.identifier_code_id\=ic.identifier_code_id and ic.identifier_code_id\=sic.identifier_code_id and  sic.stock_id\=icmp.stock_id group by im.index_name,im.index_id,sic.identifier_code_value,sic.stock_id order by im.index_id,sic.identifier_code_value
tree_stocks=select sic.identifier_code_value,sem.stock_ex_code,sic.stock_id from  stock_master sm, stock_identifier_codes sic,  identifier_codes ic,  stock_exchange_master sem where sm.is_active\='y' and sm.stock_id\=sic.stock_id and  sem.identifier_code_id\=ic.identifier_code_id  and ic.identifier_code_id\=sic.identifier_code_id and sem.is_active\='y' group by sem.stock_ex_code,sic.identifier_code_value,sic.stock_id order by upper(sem.stock_ex_code),upper(sic.identifier_code_value)
stock_details=select sm.stock_id,sm.stock_name,c.company_name,sem.stock_ex_name,sm.face_value,si.sub_industry_name,sm.growth_or_value, sm.is_active,sm.listing_date,sm.iwf,sm.tis,cn.country_name,rating_code_name  from  stock_master sm, company c, stock_exchange_master sem,  sub_industry si, countries cn, rating_codes rc where sm.stock_id\=? and sm.company_id\=c.company_id and sm.is_active\='y' and sm.stock_exchange_id\=sem.stock_ex_id  and c.sub_industry_id\=si.sub_industry_id and cn.country_id\=sm.country_id and sm.rating_code_id \= rc.rating_code_id  
#industry_wise_weightage=select class_name,sum_icmcv,sum_temp from temp1 where index_id\=?
industry_wise_weightage=select class_name,sum(ic.mcv),cast(sum((ic.mcv/idsp1.tmcv)*100) as numeric(30,6)) from index_composition ic left outer join (select sum(ic.mcv) as tmcv,ic.index_id from stock_master sm,index_composition ic,intra_day_stock_prices idsp where ic.index_id\=? and ic.stock_id\=sm.stock_id and sm.stock_id\=idsp.stock_id and intra_day_stock_price_id in (select max(intra_day_stock_price_id) from intra_day_stock_prices group by stock_id) group by index_id) idsp1 on (ic.index_id\=idsp1.index_id), company c, class_company cc, class cls, stock_master sm left outer join (select (ic.mcv) as mcv,sm.stock_id from stock_master sm,index_composition ic,intra_day_stock_prices idsp where ic.index_id\=? and ic.stock_id\=sm.stock_id and sm.stock_id\=idsp.stock_id and intra_day_stock_price_id in (select max(intra_day_stock_price_id) from intra_day_stock_prices group by stock_id)) idsp on (sm.stock_id\=idsp.stock_id) where ic.index_id\=? and ic.stock_id\=sm.stock_id and sm.company_id\=c.company_id and c.company_id\=cc.company_id and cc.class_id\=cls.class_id and (cls.level_id\=3 or cls.level_id\=4) group by cls.level_id\=3,class_name
totalreturns_lastclosingdate=select   index_value_date   from index_value_daily where to_date(index_value_date,'dd-mm-yyyy') <    to_date(?,'dd-mm-yyyy')   and index_id in (select parent_id from index_master where index_id\=?) order by to_date(index_value_date,'dd-mm-yyyy') desc limit 1
totalreturns_lastclosingdate1=select   index_value_date   from index_value_daily where to_date(index_value_date,'dd-mm-yyyy') <    to_date(?,'dd-mm-yyyy')   and index_id\=? order by to_date(index_value_date,'dd-mm-yyyy') desc limit 1
moving_index_value=select index_closing_value,index_value_date from  index_value_daily where index_id\=? and to_date(index_value_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and to_date(index_value_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') order by to_date(index_value_date,'dd-mm-yyyy') desc
index_wise_stock_name=select sm.stock_id,sm.stock_name from  index_composition ic, stock_master  sm  where ic.index_id\=? and sm.is_active\='y' and  ic.stock_id\=sm.stock_id order by sm.stock_name  
stock_contribution_stock_id_left=select stock_id from  index_composition where index_id\=? and stock_id not in (select s1.stock_id from (select spd.mcv,spd.stock_id from  stock_price_daily spd, index_composition ic where ic.index_id\=?  and spd.stock_price_date\=? and ic.stock_id\=spd.stock_id) s1,(select spd.mcv,spd.stock_id from  stock_price_daily spd, index_composition ic where ic.index_id\=?  and spd.stock_price_date\=? and ic.stock_id\=spd.stock_id) s2 where s1.stock_id\=s2.stock_id and s1.mcv-s2.mcv<>0)
stock_contribution_to_change_in_index_individual=select sm.stock_name,i1.tmcv-i2.tmcv as i_mcap_diff,cast(s1.mcv-s2.mcv as numeric(30,2)) as s_mcap_diff, to_number(((s1.mcv-s2.mcv/i1.tmcv-i2.tmcv)*100),'9999999999999999999999999999999999999999d99') as weightage  from (select adjusted_tmcv as tmcv,index_id from  index_value_daily where index_id\=? and to_date(index_value_date,'dd-mm-yyyy')\= (select max(to_date(index_value_date,'dd-mm-yyyy')) from  index_value_daily ivd where index_id\=? and  to_date(index_value_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') )) i1 ,(select adjusted_tmcv as tmcv,index_id from  index_value_daily where index_id\=? and to_date(index_value_date,'dd-mm-yyyy')\= (select max(to_date(index_value_date,'dd-mm-yyyy')) from  index_value_daily ivd where index_id\=? and  to_date(index_value_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') )) i2   ,(select spd.mcv,spd.stock_id from  stock_price_daily spd where  spd.stock_id\=? and  to_date(spd.stock_price_date,'dd-mm-yyyy')\=(select max(to_date(stock_price_date,'dd-mm-yyyy')) from  stock_price_daily where to_date(stock_price_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy')) ) s1, (select spd.mcv,spd.stock_id from  stock_price_daily spd where  spd.stock_id\=? and to_date(spd.stock_price_date,'dd-mm-yyyy')\=(select max(to_date(stock_price_date,'dd-mm-yyyy')) from   stock_price_daily where to_date(stock_price_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy'))) s2  , stock_master sm  where (i1.index_id\=i2.index_id) and  (i1.tmcv-i2.tmcv<>0) and (s1.mcv-s2.mcv<>0) and sm.stock_id\=s1.stock_id 
index_details_from_date_to_date=select index_opening_value,index_highest_value,index_closing_value,index_lowest_value  from  index_value_daily where  index_id\=? and to_date(index_value_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and  to_date(index_value_date,'dd-mm-yyyy')<\= to_date(?,'dd-mm-yyyy') 
index_details_on_date=select index_opening_value,index_highest_value,index_lowest_value,index_closing_value from  index_value_daily where  index_value_date\=? and index_id\=?
index_name=select index_name from  index_master where index_id\=?
select_index_wise_stock_id=select ic.stock_id,sm.stock_name,sm.is_active from index_composition ic,stock_master sm where index_id\=? and ic.stock_id\=sm.stock_id order by upper(stock_name)
stock_name=select stock_name from stock_master where index_id\=?
query_copyofanotherindex=insert into index_master select (select nextval('index_id')), ? , creation_date, is_active ,  base_date ,  base_value,  computation_interval ,  is_captured, captured_from ,m_start_time,  n_stop_time ,  o_ric ,  is_child ,  parent_id ,  base_currency_id,  index_type_id,  alert_percentage,  rejection_percentage,industry_classification_code,growth_or_value,calculate_settlement_value ,  isin , is_customized ,  next_day ,industry_classification_id,?  from  index_master where index_id\=?
get_all_latest_divisor=select ivd.index_id,index_name,ivd.adjusted_divisor,index_value_date from  index_value_daily  ivd, index_master im where index_value_daily_id in (select max(index_value_daily_id) from index_value_daily group by index_id) and ivd.index_id in(select index_id from index_master where im.is_child\='n' and im.user_id\=?  or next_day\=1)and im.index_id\=ivd.index_id 
index_divisor_date_wise=select ivd.index_value_date,ivd.adjusted_divisor,ivd.adjusted_tmcv,ivd.index_closing_value  from  index_value_daily ivd where ivd.index_id\=? and to_date(index_value_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy')and  to_date(index_value_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') order by to_date(index_value_date,'dd-mm-yyyy')
index_divisor_date_wise1=select ivd.index_value_date,ivd.index_closing_value,ivd.adjusted_tmcv,ivd.adjusted_divisor  from  index_value_daily ivd where ivd.index_id\=? and to_date(index_value_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy')and  to_date(index_value_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') order by to_date(index_value_date,'dd-mm-yyyy')

stock_status_gain=select sm.stock_name,crnt.cprice,to_number(((crnt.cprice-lst.lprice)/lst.lprice)*100,'9999d99') as percentage  from  stock_master sm, (select ltp as cprice,stock_id,price_date from  intra_day_stock_prices  where intra_day_stock_price_id in  (select max(intra_day_stock_price_id) from  intra_day_stock_prices  where to_date(price_date,'dd-mm-yyyy') in  (select max(to_date(price_date,'dd-mm-yyyy')) from  intra_day_stock_prices) group by stock_id)) crnt,  (select spd.adjusted_price as lprice ,spd.stock_id from  stock_price_daily spd where  spd.stock_price_daily_id in  (select max(spd.stock_price_daily_id) from  stock_price_daily spd where to_date(spd.stock_price_date,'dd-mm-yyyy')<  (select max(to_date(price_date,'dd-mm-yyyy')) from  intra_day_stock_prices) group by spd.stock_id)) lst  where sm.is_active\='y' and crnt.cprice-lst.lprice>0 and  lst.stock_id\=crnt.stock_id and  lst.stock_id\=sm.stock_id    order by percentage desc limit 5 
stock_status_loss=select sm.stock_name,crnt.cprice,to_number(((crnt.cprice-lst.lprice)/lst.lprice)*100,'9999d99') as percentage  from  stock_master sm, (select ltp as cprice,stock_id,price_date from  intra_day_stock_prices  where intra_day_stock_price_id in  (select max(intra_day_stock_price_id) from  intra_day_stock_prices  where to_date(price_date,'dd-mm-yyyy') in   (select max(to_date(price_date,'dd-mm-yyyy')) from  intra_day_stock_prices) group by stock_id)) crnt,  (select spd.adjusted_price as lprice ,spd.stock_id from  stock_price_daily spd where  spd.stock_price_daily_id in  (select max(spd.stock_price_daily_id) from  stock_price_daily spd where to_date(spd.stock_price_date,'dd-mm-yyyy')<  (select max(to_date(price_date,'dd-mm-yyyy')) from  intra_day_stock_prices) group by spd.stock_id)) lst  where sm.is_active\='y' and crnt.cprice-lst.lprice<0 and  lst.stock_id\=crnt.stock_id and  lst.stock_id\=sm.stock_id    order by percentage  limit 5 
stock_status_gain_between_date=select sm.stock_name,crnt.cprice,to_number(((crnt.cprice-lst.lprice)/lst.lprice)*100,'9999d99') as percentage  from  stock_master sm,(select spd.last as cprice ,spd.stock_id ,stock_price_date as price_date from  stock_price_daily spd where  stock_price_date\=? ) crnt,(select spd.adjusted_price as lprice ,spd.stock_id from  stock_price_daily spd where  stock_price_date\=? ) lst  where sm.is_active\='y' and crnt.cprice-lst.lprice>0 and  lst.stock_id\=crnt.stock_id and lst.stock_id\=sm.stock_id  order by percentage desc limit ?
stock_status_loss_between_date=select \tsm.stock_name,crnt.cprice,to_number(((crnt.cprice-lst.lprice)/lst.lprice)*100,'9999d99') as percentage from  stock_master sm,(select spd.last as cprice ,spd.stock_id ,stock_price_date as price_date from  stock_price_daily spd where  stock_price_date\=? ) crnt,(select spd.adjusted_price as lprice ,spd.stock_id from  stock_price_daily spd where stock_price_date\=? ) lst  where sm.is_active\='y' and crnt.cprice-lst.lprice<0 and  lst.stock_id\=crnt.stock_id and lst.stock_id\=sm.stock_id order by percentage   limit ?
company_wise_weightage=select company_name as iname,sum(mcv) as i_mcap, cast((sum(mcv)/sum(tmcv))*100 as numeric(30,2)) as weightage from index_value_daily ivd,index_composition ic,stock_master sm,company c where ivd.index_id\=? and ivd.index_value_date\=(select index_value_date from index_value_daily where index_value_daily_id\=(select max(index_value_daily_id) from index_value_daily) )and ivd.index_id\=ic.index_id and ic.stock_id\=sm.stock_id and sm.company_id\=c.company_id group by ivd.index_id,company_name
detail_stock_master=select * from stock_master where stock_id\=?
update_cad=update corporate_action_diary set cad_id\=?,apply_on_date\=?,applied_date\=?,ratio_for_shares\=?,ratio_shares_offered\=?,amount\=?,status\=?,values\=?,applied_time\=?  where cad_id\=?
insert_into_cad=insert into corporate_action_diary(cad_id,applied_date,ratio_for_shares,ratio_shares_offered,amount,status,cam_id,stock_id,values) values(?,?,?,?,?,?,?,?,?)
get_corporate_list_stock=select cam_id,cam_name,cam_shortname from corporate_action_master where corporate_action_type\='stock event' order by upper(cam_name)
get_stock_exchnage_name=select stock_ex_name from  stock_exchange_master where stock_ex_id\=?
stock_contribution_to_change_in_index=select sm.stock_name,i1.adjusted_tmcv-i2.adjusted_tmcv as i_mcap_diff,cast(s1.mcv-s2.mcv as numeric(30,2)) as s_mcap_diff, to_number(((s1.mcv-s2.mcv/i1.adjusted_tmcv-i2.adjusted_tmcv)*100),'9999999999999999999999999999999999999999d99') as weightage, s1.stock_price_date,s2.stock_price_date from (select adjusted_tmcv,index_id from  index_value_daily where index_id\=? and to_date(index_value_date,'dd-mm-yyyy')\= (select max(to_date(index_value_date,'dd-mm-yyyy')) from  index_value_daily ivd where index_id\=? and  to_date(index_value_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') )) i1 ,(select adjusted_tmcv,index_id from  index_value_daily where index_id\=? and to_date(index_value_date,'dd-mm-yyyy')\= (select max(to_date(index_value_date,'dd-mm-yyyy')) from  index_value_daily ivd where index_id\=? and  to_date(index_value_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') )) i2  ,(select spd.mcv,spd.stock_id,ic.index_id,spd.stock_price_date from  stock_price_daily spd,  index_composition ic where ic.index_id\=?  and to_date(spd.stock_price_date,'dd-mm-yyyy')\= (select max(to_date(stock_price_date,'dd-mm-yyyy')) from  stock_price_daily where  to_date(stock_price_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy')) and ic.stock_id\=spd.stock_id) s1,(select spd.mcv,spd.stock_id,ic.index_id,spd.stock_price_date from  stock_price_daily spd,  index_composition ic where ic.index_id\=?  and to_date(spd.stock_price_date,'dd-mm-yyyy')\= (select max(to_date(stock_price_date,'dd-mm-yyyy')) from  stock_price_daily where  to_date(stock_price_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy')) and ic.stock_id\=spd.stock_id) s2  , stock_master sm where (i1.index_id\=i2.index_id) and  (i1.index_id\=s1.index_id) and (s1.index_id\=s2.index_id) and  (i1.adjusted_tmcv-i2.adjusted_tmcv<>0)  and (s1.stock_id\=s2.stock_id) and  (s1.mcv-s2.mcv<>0)  and sm.stock_id\=s1.stock_id
stock_price_daily_between_date=select distinct sm.stock_id,sm.stock_name,spd.stock_opening_value,spd.adjusted_price as stock_closing_value, spd.stock_lowest_value, spd.stock_highest_value,spd.traded_volume ,spd.stock_price_date,spd.mcv,(spd.traded_volume*spd.adjusted_price) as traded_value,spd.no_of_trades from  stock_price_daily spd, stock_master sm , index_composition ic where spd.stock_id\=? and to_date(stock_price_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and to_date(stock_price_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') and  sm.stock_id\=spd.stock_id order by stock_price_date
select_corp_details=select * from corporate_action_diary where stock_id\=? and cam_id\=? and (to_date(apply_on_date,'dd-mm-yyyy')\=to_date(?,'dd-mm-yyyy') or(to_date(applied_date,'dd-mm-yyyy')\=to_date(?,'dd-mm-yyyy'))) and status\='y'
get_latest_ltp_tis=select idsp.ltp,sm.tis from  stock_master sm, intra_day_stock_prices idsp  where sm.stock_id\=idsp.stock_id and intra_day_stock_price_id in (select max(intra_day_stock_price_id) from  intra_day_stock_prices  where stock_id\=?)
stock_details_for_ca=select sd.currency_code,sdlcd.sedol,isincd.isin ,riccd.ric,cspcd.cusip,excd.exchange_code,tkrcd.ticker,sd.stock_id,sd.listing_date,sd.stock_name,sd.iwf,sd.company_name,sd.tis,sd.stock_ex_name,sd.country_name, sd.face_value,sd.rating_code_name,sd.sub_industry_name, adro.adr_ratio,sd.growth_or_value,spd.stock_closing_value,spd.adjusted_price,sd.market_lot from stock_details sd left outer join exchange_code excd on (sd.stock_id\=excd.stock_id)  left outer join sedol_code sdlcd on (sd.stock_id\=sdlcd.stock_id)  left outer join isin_code isincd on (sd.stock_id\=isincd.stock_id)  left outer join ric_code riccd on (sd.stock_id\=riccd.stock_id)  left outer join cusip_code cspcd on (sd.stock_id\=cspcd.stock_id)  left outer join ticker_code tkrcd on (sd.stock_id\=tkrcd.stock_id)  left outer join adr_ratio adro on (sd.stock_id\=adro.stock_id)  left outer join  (select stock_closing_value,stock_id,adjusted_price from stock_price_daily  where to_date(stock_price_date,'dd-mm-yyyy') in  (select max(to_date(stock_price_date,'dd-mm-yyyy')) from stock_price_daily where stock_id\=?)) spd on (sd.stock_id\=spd.stock_id)  where sd.stock_id\=? limit 1 
select_index_detail=select * from index_value_daily where index_id\=? and to_date(index_value_date,'dd-mm-yyyy') \=(select max(to_date(index_value_date,'dd-mm-yyyy')) from  index_value_daily where index_id\=?)
select_stock_price_detail=select * from stock_price_daily where stock_id\=? and to_date(stock_price_date,'dd-mm-yyyy') \=(select max(to_date(stock_price_date,'dd-mm-yyyy')) from  stock_price_daily where stock_id\=?)
select_stock_detail=select sm.stock_name,sm.iwf,sm.tis,sm.market_lot,c.currency_code,spd.stock_closing_value,spd.stock_opening_value,spd.stock_highest_value,spd.stock_lowest_value,spd.stock_price_date,spd.adjusted_price from currencies c,stock_master sm left  outer join (select stock_closing_value,stock_opening_value,stock_highest_value,stock_lowest_value,stock_id,stock_price_date,adjusted_price from stock_price_daily where to_date(stock_price_date,'dd-mm-yyyy') in (select max(to_date(stock_price_date,'dd-mm-yyyy')) from stock_price_daily where stock_id\=?)) spd on (sm.stock_id\=spd.stock_id) where sm.stock_id\=? and sm.stock_currency_id\=c.currency_id
affected_index_by_ca=select ic.index_id,index_name,ic.iwf,ic.stock_id  from  index_composition ic, index_master im where stock_id\=? and ic.index_id\=im.index_id order by index_name
select_from_stock_type=select * from stock_type
country_list=select * from countries order by country_name
insert_stock_master_history_from_sm.Action=insert into stock_master_history(stock_mh_id,stock_id,stock_type_id,company_id,iwf,tis,stock_name,face_value,listing_date,growth_or_value,rating_code_id,global100,alert_percentage,rejection_percentage,witholding_tax_applicable,witholding_tax_percent,market_lot,stock_exchange_id,country_id,is_active,stock_currency_id,is_price_for_lot,paid_value,history_date) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
insert_into_rating_codes=insert into rating_codes values(?,?)
select_from_stock_master=select * from stock_master order by upper(stock_name)
insert_into_identifier_code=insert into identifier_codes values(?,?)
select_from_rating_codes=select * from rating_codes
select_from_stock_master_history=SELECT * from stock_master_history where stock_id\=? and history_date\=?
select_from_stock_identifier_code=select * from stock_identifier_codes where stock_id\=? and identifier_code_id\=?
update_stock_identifier_code=update stock_identifier_codes set identifier_code_value\=?,series\=? where stock_identifier_code_id\=?
insert_into_stock_master_from_sm.Action=insert into stock_master(stock_id,stock_type_id,company_id,iwf,tis,stock_name,face_value,listing_date,growth_or_value,rating_code_id,global100,alert_percentage,rejection_percentage,witholding_tax_applicable,witholding_tax_percent,market_lot,stock_exchange_id,country_id,is_active,stock_currency_id,is_price_for_lot, paid_value,delisting_date,original_tis) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
update_stock_master_from_sm.Action=update stock_master set stock_type_id\=?,company_id\=?,iwf\=?,tis\=?,stock_name\=?,face_value\=?,listing_date\=?,growth_or_value\=?,rating_code_id\=?,global100\=?,alert_percentage\=?,rejection_percentage\=?,witholding_tax_applicable\=?,witholding_tax_percent\=?,market_lot\=?,stock_exchange_id\=?,country_id\=?,is_active\=?,stock_currency_id\=?,is_price_for_lot\=?,paid_value\=? where stock_id\=?
update_stock_master_history_from_sm.Action=update stock_master_history set stock_id\=?,iwf\=?,tis\=?,face_value\=?,market_lot\=?,paid_value\=?,growth_or_value\=?,rating_code_id\=?,global100\=?,history_date\=? where stock_mh_id\=?
get_latest_index_value_index_wise=select adjusted_tmcv as tmcv,adjusted_divisor as divisor,index_closing_value from  index_value_daily  where index_id\=? and to_date(index_value_date,'dd-mm-yyyy')\= (select max(to_date(index_value_date,'dd-mm-yyyy')) from  index_value_daily where index_id\=?)
update_tis_after_ca=update  stock_price_daily set adjusted_price\=? ,mcv\=? where stock_id\=? and  to_date(stock_price_date,'dd-mm-yyyy')\= (select max(to_date(stock_price_date,'dd-mm-yyyy')) from  stock_price_daily where stock_id\=?)
update_adjusted_divisor_after_ca=update  index_value_daily  set adjusted_divisor\=? ,adjusted_tmcv\=?  where index_id\=? and to_date(index_value_date,'dd-mm-yyyy')\= (select max(to_date(index_value_date,'dd-mm-yyyy')) from  index_value_daily where index_id\=?)
get_corporate_list=select cam_id,cam_name,cam_shortname from  corporate_action_master order by cam_name
insert_into_index_composition=insert into  index_composition values((SELECT nextval('index_stock_id')),?,?,?,?,?)
stock_exchange_wise_stock_details1=select sm.stock_id,sm.stock_name,sm.iwf,idsp.price_date, idsp.ltp,c.currency_code,sm.tis,sm.market_lot from  currencies c, (select stock_id,sm.stock_exchange_id  from  stock_master sm where stock_exchange_id\=? and stock_id not in  (select sm.stock_id from  stock_master sm, index_composition ic  where ic.index_id\=? and  stock_exchange_id\=? and ic.stock_id\=sm.stock_id)) ss , stock_master sm left outer join (select stock_id,idsp.price_date, idsp.ltp from intra_day_stock_prices idsp  where idsp.intra_day_stock_price_id in  (select max(intra_day_stock_price_id ) from  intra_day_stock_prices  group by stock_id)) idsp on (idsp.stock_id\=sm.stock_id) where  sm.is_active\='y' and  sm.stock_exchange_id\=ss.stock_exchange_id and  sm.stock_currency_id\=c.currency_id and  sm.stock_id\=ss.stock_id  order by stock_id
get_index_base_currency_code=select c.currency_id,currency_code  as index_currency from   currencies c,  index_master im where  index_id\=? and c.currency_id\=im.base_currency_id 
get_stock_details_for_child_index=select sm.stock_id,sm.stock_name,sm.iwf,spd.stock_price_date,spd.ltp,c.currency_code,sm.tis,sm.market_lot  from  stock_master sm left outer join (select spd.stock_id,spd.stock_price_date,idsp.ltp from stock_price_daily spd,  intra_day_stock_prices idsp where  spd.stock_price_date\=idsp.price_date and  idsp.stock_id\=spd.stock_id and  idsp.intra_day_stock_price_id in  (select max(intra_day_stock_price_id ) from  intra_day_stock_prices idsp group by idsp.stock_id) ) spd on (spd.stock_id\=sm.stock_id), currencies c,  index_composition ic  where  ic.index_id\=? and    sm.is_active\='y' and    sm.stock_id\=ic.stock_id and   sm.stock_id\=spd.stock_id and   sm.stock_currency_id\=c.currency_id  order by sm.stock_name 
stock_status_least_traded=select sm.stock_name,crnt.traded_volume as crntt,cast(((crnt.traded_volume-lst.traded_volume)/lst.traded_volume)*100 as numeric(10,2)) as percentage from  stock_master sm,(select traded_volume,stock_id from  stock_price_daily where stock_price_date\=?) lst,(select traded_volume,stock_id from  stock_price_daily where stock_price_date\=?) crnt where sm.is_active\='y' and sm.stock_id\=lst.stock_id and  lst.stock_id\=crnt.stock_id and crnt.traded_volume-lst.traded_volume<0 order by ((crnt.traded_volume-lst.traded_volume)/lst.traded_volume)*100  limit ?
stock_status_top_traded=select sm.stock_name,crnt.traded_volume as crntt,cast(((crnt.traded_volume-lst.traded_volume)/lst.traded_volume)*100 as numeric(10,2)) as percentage from  stock_master sm,(select traded_volume,stock_id from  stock_price_daily where stock_price_date\=?) lst,(select traded_volume,stock_id from  stock_price_daily where stock_price_date\=?) crnt where sm.is_active\='y' and sm.stock_id\=lst.stock_id and lst.stock_id\=crnt.stock_id and crnt.traded_volume-lst.traded_volume>0 order by ((crnt.traded_volume-lst.traded_volume)/lst.traded_volume)*100 desc limit ?
get_tis_symbol_wise=select identifier_code_value,sm.tis,sm.stock_id from  stock_master sm, stock_identifier_codes sic, stock_exchange_master sem where sem.stock_ex_id\=? and  sm.is_active\='y' and sm.stock_id\=sic.stock_id and sem.identifier_code_id\=sic.identifier_code_id order by identifier_code_value
#stock_weightage_latest_for_compute_index=select \tsm.stock_id, sm.stock_name,c.currency_code,sm.tis, ic.iwf, spd.adjusted_price,(ic.mcv) as mcv,  ((ic.mcv)/sp.tmcv)*100  as weightage,spd.stock_price_date,sm.market_lot,spd.last from index_composition ic, stock_master sm,currencies c,stock_price_daily spd,(select sum(ic.mcv) as tmcv,ic.index_id from index_composition ic  where ic.index_id\=?  group by ic.index_id) as sp where sm.is_active\='y' and  sp.index_id\=ic.index_id and ic.stock_id\=sm.stock_id and sm.stock_id\=spd.stock_id and ic.stock_id\=spd.stock_id  and sm.stock_currency_id\=c.currency_id  and stock_price_daily_id in (select max(stock_price_daily_id) from stock_price_daily where \tto_date(stock_price_date,'dd-mm-yyyy') in (select max(to_date(stock_price_date,'dd-mm-yyyy')) from stock_price_daily group by stock_id) group by stock_id) order by to_date(spd.stock_price_date,'dd-mm-yyyy')
#modified by samiksha
stock_weightage_latest_for_compute_index=select \tsm.stock_id, sm.stock_name,c.currency_code,sm.tis, ic.iwf, spd.adjusted_price,(ic.mcv) as mcv,  ((ic.mcv)/sp.tmcv)*100  as weightage,spd.stock_price_date,sm.market_lot,spd.last from index_composition ic, stock_master sm,currencies c,stock_price_daily spd,(select sum(ic.mcv) as tmcv,ic.index_id from index_composition ic  where ic.index_id\=?  group by ic.index_id) as sp where sm.is_active\='y' and  sp.index_id\=ic.index_id and ic.stock_id\=sm.stock_id and sm.stock_id\=spd.stock_id and ic.stock_id\=spd.stock_id  and sm.stock_currency_id\=c.currency_id  and stock_price_daily_id in (select max(stock_price_daily_id) from stock_price_daily where \tstock_price_date in (select max(stock_price_date) from stock_price_daily group by stock_id) group by stock_id) order by spd.stock_price_date
stock_detail_changes=select sm.stock_name,smh.iwf,smh.tis,smh.face_value,smh.market_lot,smh.paid_value,smh.growth_or_value,rating_code_name,smh.global100,smh.is_price_for_lot,smh.history_date from  stock_master sm, stock_master_history smh, rating_codes rc where sm.stock_id\=?  and sm.stock_id\=smh.stock_id and smh.rating_code_id\=rc.rating_code_id and to_date(history_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and to_date(history_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') order by  to_date(history_date,'dd-mm-yyyy') desc
stock_name_list=select stock_id,stock_name from stock_master order by stock_name
stock_change_types_list=select sc_type_name from  stock_change_types
select_identifier_code_value_from_sic=select identifier_code_value from stock_identifier_codes
stock_details_for_stock_master=select sm.stock_exchange_id as stock_ex_name,listing_date,stock_type_name,iwf,sm.company_id as company_name,tis,stock_name,sm.country_id as country_name, face_value,sm.rating_code_id as rating_code_name,paid_value,global100,market_lot,alert_percentage,rejection_percentage,witholding_tax_applicable,witholding_tax_percent,sm.stock_currency_id,is_price_for_lot,growth_or_value,sm.is_active from stock_master sm left outer join (select rating_code_name,rating_code_id from rating_codes ) rc on (rc.rating_code_id\=sm.rating_code_id) left outer join (select stock_type_name,stock_type_id from stock_type ) st  on (st.stock_type_id\=sm.stock_type_id),company c,countries cnt,stock_exchange_master sem where sm.stock_id\=? and  sm.company_id\=c.company_id and sm.country_id\=cnt.country_id and sm.stock_exchange_id\=sem.stock_ex_id 
get_latest_all_index_details=select im.index_name ,idi.index_value as current,ivd.index_opening_value,ivd.index_highest_value,ivd.index_lowest_value,ivd.index_closing_value, lst.indexclsvalue,ivd.tmcv,ivd.divisor,c.currency_code,ivd.index_value_date,im.n_stop_time,ivd.index_id from index_value_daily ivd left outer join (select max(ivd.index_closing_value) as indexclsvalue ,ivd.index_id from  index_value_daily ivd where to_date(ivd.index_value_date,'dd-mm-yyyy') in (select max(to_date(index_value_date,'dd-mm-yyyy')) from  index_value_daily where to_date(index_value_date,'dd-mm-yyyy')<to_date(?,'dd-mm-yyyy') group by index_id ) group by ivd.index_id)  as lst on(lst.index_id\=ivd.index_id) ,  index_master im,  intra_day_indices idi,  currencies c where   im.index_id\=ivd.index_id and im.is_active\='y' and user_id\=? and is_child\='n' and idi.index_id\=ivd.index_id  and idi.index_on_date\=ivd.index_value_date  and c.currency_id\=im.base_currency_id and intra_day_indices_id in (select max(intra_day_indices_id) from  intra_day_indices idi  group by idi.index_id)  order by to_date(ivd.index_value_date,'dd-mm-yyyy')
get_latest_all_captured_index_details=select im.index_id ,im.index_name ,idsp.index_value as current,ivd1.index_opening_value,ivd1.index_highest_value,ivd1.index_lowest_value,ivd1.index_closing_value,ivd.indexclsvalue as change,ivd1.tmcv,ivd1.divisor,c.currency_code,ivd1.index_value_date from currencies c,index_master im left outer join (select index_closing_value as indexclsvalue,index_id,index_value_date from index_value_daily where index_value_daily_id in (select max(index_value_daily_id) from index_value_daily where to_date(index_value_date,'dd-mm-yyyy') in (select max(to_date(index_value_date,'dd-mm-yyyy'))  from index_value_daily where  to_date(index_value_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') group by index_id)group by index_id)) ivd on(im.index_id\=ivd.index_id) left outer join (select * from index_value_daily where to_date(index_value_date,'dd-mm-yyyy') in (select max(to_date(index_value_date,'dd-mm-yyyy')) from index_value_daily  group by index_id) ) ivd1 on (im.index_id\=ivd1.index_id and ivd.index_value_date\=ivd1.index_value_date) left outer join (select index_value,index_id,index_on_date from intra_day_indices where intra_day_indices_id in (select max(intra_day_indices_id) from intra_day_indices group by index_id)) idsp on (idsp.index_id\=im.index_id and idsp.index_on_date\=ivd1.index_value_date) where  im.base_currency_id\=c.currency_id and  im.is_captured\='y'
get_captured_index_name=select index_name from index_master where index_id\=? and is_captured\='y'
insert_into_company_table=insert into company values(?,?)
select_max_company_id=select MAX(company_id) from company
select_from_cad_between_date=select * from corporate_action_diary cad,corporate_action_master cam where cam.corporate_action_type\=? and cad.cam_id\=cam.cam_id and ((to_date(cad.apply_on_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and  to_date(cad.apply_on_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy'))  or (to_date(cad.applied_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and  to_date(cad.applied_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') and (status\='y') and apply_on_date is null)) order by to_date(applied_date,'dd-mm-yyyy') desc,to_date(apply_on_date,'dd-mm-yyyy') desc
cad_id_details=select cam.cam_name,sm.stock_name,sem.stock_ex_name,cad.apply_on_date,cad.applied_date,cad.amount,cad.percentage,cad.ratio_for_shares,cad.ratio_shares_offered,cad.values,cad.status from corporate_action_diary cad,corporate_action_master cam,stock_master sm ,stock_exchange_master sem where cad_id\=? and cad.cam_id\=cam.cam_id and cad.stock_id\=sm.stock_id and sem.stock_ex_name in(select sem.stock_ex_name from stock_master sm,stock_exchange_master sem where sm.stock_id\=cad.stock_id and sm.stock_exchange_id\=sem.stock_ex_id)  
select_corp_diary=select sem.stock_ex_name, sm.stock_name,sm.stock_exchange_id,cam.cam_name,cam.cam_shortname,cad.cam_id,cad.stock_id,cad.ex_date,cad.announce_date,cad.record_date,cad.apply_on_date,cad.applied_date,cad.amount,cad.percentage,cad.ratio_for_shares,cad.ratio_shares_offered,cad.values,cad.status,cad.bc_start_date,cad.bc_end_date,cad.nd_start_date,cad.nd_end_date from stock_exchange_master sem,stock_master sm,corporate_action_diary cad,corporate_action_master cam where cad.cad_id\=? and cad.stock_id\=sm.stock_id and sm.stock_exchange_id\=sem.stock_ex_id and cad.cam_id\=cam.cam_id
check_applyon_date=select * from corporate_action_diary where cad_id\=? and to_date(apply_on_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy')
update_index=update index_composition set iwf\=?,mcv\=? where stock_id\=? and index_id\=?
select_index_composition=select * from index_composition where stock_id\=?
update_resp_cad=update corporate_action_diary set cad_id\=?,announce_date\=?,ex_date\=?,record_date\=?,apply_on_date\=?,applied_date\=?,ratio_for_shares\=?,ratio_shares_offered\=?,amount\=?,percentage\=?,status\=?,description\=?,cam_id\=?,stock_id\=?,values\=?,bc_start_date\=?,bc_end_date\=?,nd_start_date\=?,nd_end_date\=? where cad_id\=?
insert_into_cad_values=insert into corporate_action_diary(cad_id,announce_date,ex_date,record_date,apply_on_date,applied_date,ratio_for_shares,ratio_shares_offered,amount,percentage,status,description,cam_id,stock_id,values,bc_start_date,bc_end_date,nd_start_date,nd_end_date) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
select_max_stock_exch_id=select MAX(stock_ex_id) from stock_exchange_master
insert_into_stock_exch_master=insert into stock_exchange_master values(?,?,?,?,?)
select_from_time_zone_sm=select * from time_zone order by description
update_stock=update  stock_master set stock_type_id\=?,company_id\=?,iwf\=?,tis\=?,stock_name\=?,face_value\=?,listing_date\=?,growth_or_value\=?,rating_code_id\=?,global100\=?,alert_percentage\=?,rejection_percentage\=?,witholding_tax_applicable\=?,witholding_tax_percent\=?,market_lot\=?,stock_exchange_id\=?,country_id\=?,is_active\=?,stock_currency_id\=?,is_price_for_lot\=?,paid_value\=? where stock_id\=?
update_stk_his=update  stock_master_history set iwf\=?,tis\=?,face_value\=?,market_lot\=?,paid_value\=?,growth_or_value\=?,rating_code_id\=?,global100\=?,history_date\=? where stock_id\=?
insert_new_stock=insert into  stock_master values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
inset_new_stock_his=insert into  stock_master_history values(?,?,?,?,?,?,?,?,?,?,?,?)
copy_of_another_index=insert into  index_master(index_id ,  index_name ,  creation_date,  is_active ,  base_date ,  base_value,  computation_interval ,  is_captured,  captured_from ,m_start_time,  n_stop_time ,  o_ric ,  is_child ,  parent_id ,  base_currency_id,  index_type_id,  alert_percentage,  rejection_percentage,industry_classification_code,growth_or_value,calculate_settlement_value ,  isin ,  is_customized ,  next_day ,industry_classification_id, is_test) select  ?, ? , creation_date,  is_active ,  base_date ,  base_value,  computation_interval ,  is_captured,  captured_from ,m_start_time,  n_stop_time ,  o_ric ,  is_child ,  parent_id ,  base_currency_id,  index_type_id,  alert_percentage,  rejection_percentage, industry_classification_code,growth_or_value,calculate_settlement_value ,  isin ,  is_customized ,  next_day ,industry_classification_id,?  from  index_master where index_id\=?
insert_into_index_master=insert into index_master(index_id,index_name,creation_date,is_active,base_date,base_value,computation_interval,is_captured ,captured_from ,m_start_time,n_stop_time,o_ric,is_child ,parent_id, base_currency_id, index_type_id, alert_percentage, rejection_percentage,industry_classification_code,growth_or_value,calculate_settlement_value , isin , is_customized , next_day, industry_classification_id , is_test,user_id,compliance_id,order_id,is_auto) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
industry_classification_sub_industry=select industry_classification_code,sub_industry_name from sub_industry order by sub_industry_name
industry_classification_industry=select  industry_classification_code,industry_name from industry order by industry_name
industry_classification_industry_group=select industry_classification_code,industry_group_name from industry_group order by industry_group_name 
industry_classification_sector=select industry_classification_code,sector_name from sector_master order by sector_name
get_identifier_code=select identifier_code_id  from stock_exchange_master where stock_ex_id\=?
select_corporate_action_diary=select * from corporate_action_diary where cam_id\=? and stock_id\=? and status\='n' and to_date(apply_on_date,'dd-mm-yyyy')\=to_date(?,'dd-mm-yyyy')
Update_stock_exchange_master_set_identifier_code_id=update stock_exchange_master set identifier_code_id\=? where stock_ex_id\=?
insert_index_cad=insert into corporate_action_diary(cad_id,announce_date,ex_date,record_date,apply_on_date,applied_date,status,cam_id,stock_id,index_id,values,base_date,bc_start_date,bc_end_date,nd_start_date,nd_end_date,applied_time) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
get_stock_name_from_stock_master=select stock_name from stock_master
select_rating_code=select rating_code_id,rating_code_name from rating_codes order by upper(rating_code_name)
get_stock_id_where_exchange_code=select sm.stock_id from stock_master sm,stock_identifier_codes sic,stock_exchange_master sem where stock_exchange_id\=? and sm.stock_name\=? and sic.identifier_code_value\=? and sic.series\=? and sic.identifier_code_id\=sem.identifier_code_id and sm.stock_id\=sic.stock_id and sm.stock_exchange_id\=sem.stock_ex_id 
check_stock_name=select stock_id,stock_name from stock_master where stock_exchange_id\=? order by stock_name
tree_captured_index=select index_id,index_name from index_master where is_active\='y' and is_captured\='y'
get_currency_country_where_stock_ex_id=select c.currency_id,cnt.country_id  from currencies c, countries cnt, stock_exchange_master sem where sem.stock_ex_id\=?  and  c.currency_id\=cnt.currency_id and cnt.country_id\=sem.country_id  
select_system_config=select * from system_configuration
select_index_name=select * from index_master where index_id\=?
get_identifier_code_id=select identifier_code_id,identifier_code_name from identifier_codes 
get_stock_id_where_symbol_series=select stock_id from stock_identifier_codes sic,stock_exchange_master sem where sic.identifier_code_value\=? and  sic.series\=? and  sem.stock_ex_id\=? and  sem.identifier_code_id\=sic.identifier_code_id 
industry_classification_list=select class_id,icm.industry_classification_short_name|| '\:' ||level_short_name || ' - ' ||class_name  from  class c, classification_level cl, industry_classification_master icm where c.level_id\=cl.level_id and  cl.industry_classification_id\=icm.industry_classification_id order by industry_classification_name,cl.level_id,industry_classification_code 
select_from_cam=select * from corporate_action_master
get_cad_id_from_cad=select cad_id from corporate_action_diary where stock_id\=? and cam_id\=? and (apply_on_date\=? or applied_date\=?)
check_index_name=select index_name from Index_master 
update_index_value_daily=update index_value_daily set index_id\=?,adjusted_tmcv\=?,adjusted_divisor\=? where index_id\=? and to_date(index_value_date,'dd-mm-yyyy')\= (select max(to_date(index_value_date,'dd-mm-yyyy')) from  index_value_daily  where index_id\=?)
select_index_corpdiary=select cad.*,cam.cam_name,sm.stock_name,im.index_name from corporate_action_diary cad,corporate_action_master cam ,stock_master sm,index_master im where cad.cam_id\=? and cad.index_id\=? and cad.stock_id\=? and cad.status\='n' and cam.cam_id\=cad.cam_id and cad.stock_id\=sm.stock_id and cad.index_id\=im.index_id and to_date(apply_on_date,'dd-mm-yyyy') \= to_date(?,'dd-mm-yyyy')
select_index_comp=select * from index_composition where index_id\=? and stock_id\=?
select_index_corprate=select * from corporate_action_diary where cam_id\=? and index_id\=? and status\='n'
select_stock_corp_index=select sm.stock_name,cam.cam_name,im.index_name from stock_master sm,corporate_action_master cam,index_master im where sm.stock_id\=? and cam.cam_id\=? and im.index_id\=?
select_indexcorp_detail=select cm.cam_name,sm.stock_name,im.index_name from corporate_action_diary cad,corporate_action_master cm,stock_master sm,index_master im where cad_id\=? and cad.cam_id\=cm.cam_id and cad.stock_id\=sm.stock_id and cad.index_id\=im.index_id
select_stock_name=select * from stock_master where stock_id\=?
get_adr_gdr_id=select adr_gdr_id from adr_gdr where adr_gdr_name\=?
check_currancy_name=select currency_code from currencies
get_exc_country_curr_from_cnfig=select stock_ex_id,country_id,currency_id,market_lot from system_configuration
index_performance_over_month_quater_half_annual=select im.index_id,im.index_name,cr_value,(cr_value-lst_value) as per,(cr_value-lst_value1) as per1,(cr_value-lst_value2) as per2,(cr_value-lst_value3) as per3  from (select index_id, index_name from index_master where is_active\='y' and is_child\='n') im left outer join (select ivd.index_id,ivd.index_closing_value as cr_value from  index_value_daily ivd where index_value_daily_id in  (select max(index_value_daily_id) from  index_value_daily where to_date(index_value_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') group by index_id )) cr on (im.index_id\=cr.index_id) left outer join (select ivd.index_id,ivd.index_closing_value as lst_value from  index_value_daily ivd where index_value_daily_id in (select max(index_value_daily_id) from  index_value_daily where to_date(index_value_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') group by index_id ) ) lst on (cr.index_id\=lst.index_id) left outer join (select ivd.index_id,ivd.index_closing_value as lst_value1 from  index_value_daily ivd where index_value_daily_id in (select max(index_value_daily_id) from index_value_daily where to_date(index_value_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') group by index_id ) ) lst1 on (cr.index_id\=lst1.index_id) left outer join (select ivd.index_id,ivd.index_closing_value as lst_value2 from  index_value_daily ivd where index_value_daily_id in (select max(index_value_daily_id) from  index_value_daily where to_date(index_value_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') group by index_id ) ) lst2 on (cr.index_id\=lst2.index_id) left outer join (select ivd.index_id,ivd.index_closing_value as lst_value3 from  index_value_daily ivd where index_value_daily_id in (select max(index_value_daily_id) from  index_value_daily where to_date(index_value_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') group by index_id ) ) lst3 on (cr.index_id\=lst.index_id) order by upper(index_name) 
insert_into_stock_adr_gdr_ratio=insert into stock_adr_gdr_ratios values(?,?,?,?,?)
update_stock_adr_gdr_ratio=update stock_adr_gdr_ratios set adr_gdr_ratio_from\=? ,adr_gdr_ratio_to\=? where stock_id\=?
insert_into_event=insert into event values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
child_indexes_list=select class_id,class_name,level_name,c.description,c.level_id,parent_class_id,industry_classification_code from class c,classification_level cc, industry_classification_master icm,system_configuration sc  where  icm.industry_classification_id\=sc.industry_classification_id and  c.level_id\=cc.level_id and  cc.industry_classification_id\=icm.industry_classification_id  order by cc.level_id,class_name;
auto_generate_child_index=select class_id,class_name,level_name,c.description,c.level_id,parent_class_id,industry_classification_code from class c,classification_level cc, industry_classification_master icm,system_configuration sc  where  icm.industry_classification_id\=sc.industry_classification_id and  c.level_id\=cc.level_id and  cc.industry_classification_id\=icm.industry_classification_id  order by cc.level_id,class_name;
select_event_from_cad_between_date=select * from event where to_date(apply_on_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and  to_date(apply_on_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') order by to_date(apply_on_date,'dd-mm-yyyy') desc
stock_performance_report=select sm.stock_id,sm.stock_name,avg(sm.tis*sm.face_value) as iss_cap,avg(ic.mcv) as mcap from stock_price_daily spd,stock_master sm,index_composition ic where ic.index_id\=? and to_date(spd.stock_price_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and to_date(spd.stock_price_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') and ic.stock_id\=sm.stock_id and sm.stock_id\=spd.stock_id group by sm.stock_id,sm.stock_name order by stock_id
beta_calculation_data=select  sm.stock_id,spd.stock_closing_value,ivd.index_closing_value from index_value_daily ivd,index_composition ic,stock_master sm,stock_price_daily spd where ic.index_id\=? and ic.index_id\=ivd.index_id and to_date(stock_price_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and to_date(stock_price_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') and ic.stock_id\=sm.stock_id and  sm.stock_id\=spd.stock_id  order by stock_id
get_event_id_from_event=select * from event where stock_id\=? and apply_on_date\=? and description\=?
select_event=select e.*,sm.stock_name from event e,stock_master sm where event_id\=? and e.stock_id\=sm.stock_id
delete_event=delete from event where event_id\=?
indexwise_returns_and_volatility=select  ivd.index_id,im.index_name,ivd.index_closing_value from index_value_daily ivd,index_master im where ivd.index_id\=?  and to_date(index_value_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and to_date(index_value_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') and im.index_id\=ivd.index_id  order by index_id
select_parent_index=select * from index_master where is_child\='n' and is_captured\='n' order by upper(index_name)
Index_correlation_report=select sum(i1.index_closing_value),sum(i2.index_closing_value ) from index_value_daily ivd left outer join (select index_id,index_closing_value,index_value_date from index_value_daily where index_id\=? ) i1 on (ivd.index_id\=i1.index_id and ivd.index_value_date\=i1.index_value_date ) left outer join (select index_id,index_closing_value,index_value_date from index_value_daily where index_id\=?) i2 on (ivd.index_id\=i2.index_id and ivd.index_value_date\=i2.index_value_date) where (ivd.index_id\=? or ivd.index_id\=?) and to_date(ivd.index_value_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and to_date(ivd.index_value_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') group by  to_date(ivd.index_value_date,'dd-mm-yyyy') 
select_affect_index=select * from get_all_child_indices_where_stock_id(?,?) as a(index_id integer,index_name varchar)
select_child_index=select * from get_all_child_indices_to_add_stock(? , ?) as  a(index_id integer,index_name varchar)
exchange_rate=select ex_highest_value from exchange_rate_daily where from_to_currency_id\=?
select_corp_name=select * from corporate_action_master where cam_name\=?
get_activities_for_user=select act.activity_code,act.activity_name from roles_activities ra,activities act where role_id in(select role_id from user_roles where user_id in( select user_id from users where username\=?)) and act.activity_id\=ra.activity_id
get_menuHeaders_for_user=select activity_code,activity_name from activities where activity_code like 'M%' order by activity_id
get_role_id__for_user=select role_id from user_roles where user_id in( select user_id from users where username\=?)
select_cad_name=select cad.cad_id,cam.cam_name,cam.cam_shortname from corporate_action_diary cad,corporate_action_master cam where cad.cad_id\=? and cad.cam_id\=cam.cam_id
select_index_stock_cad=select * from corporate_action_diary where index_id\=? and stock_id\=? and cam_id\=? and to_date(applied_date,'dd-mm-yyyy')\=to_date(?,'dd-mm-yyyy') order by to_date(applied_date,'dd-mm-yyyy'),cad_id  desc limit 1
indexwise_pe_pb_ratio=select std.stock_price_date,ind.index_closing_value,ind.tmcv, std.share_traded,std.turn_over ,feps.eps,feps.bookvalue,div.dividend from (select sum(traded_volume) as share_traded ,stock_price_date,sum(traded_volume*stock_closing_value) as turn_over from stock_price_daily spd,index_composition ic where ic.index_id\=? and ic.stock_id\=spd.stock_id and to_date(stock_price_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and to_date(stock_price_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') group by  stock_price_date order by to_date(stock_price_date,'dd-mm-yyyy')) std left outer join (select sum(amount) as dividend,cad.applied_date from corporate_action_diary cad,corporate_action_master cam,index_composition ic where ic.index_id\=? and lower(cam.cam_name) like '%cash dividend' and to_date(applied_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and to_date(applied_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') and cad.cam_id\=cam.cam_id  and ic.stock_id\=cad.stock_id group by  cad.applied_date  order by  to_date(applied_date,'dd-mm-yyyy') ) div on (div.applied_date\=std.stock_price_date) left outer join (select index_value_date,index_closing_value,tmcv,index_id  from index_value_daily where index_id\=? and to_date(index_value_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and to_date(index_value_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') order by to_date(index_value_date,'dd-mm-yyyy') )ind on (std.stock_price_date\=ind.index_value_date) left outer join (select sum(basic_eps) as eps,sum(book_value) as bookvalue,from_date  from financial_detail where to_date(from_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and to_date(to_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') and company_id in (select company_id from stock_master where stock_id in (select stock_id from index_composition where index_id\=?))group by   from_date) feps on (std.stock_price_date\=feps.from_date) order by to_date(std.stock_price_date,'dd-mm-yyyy')
insert_indstk_mcap=insert into index_stock_mcap(index_id,stock_id,iwf,mcv,mcap_date,index_stock_mcap_id) values(?,?,?,?,?,?)
get_index_closing_max_value=select index_closing_value from index_value_daily where index_id\=? and to_date(index_value_date,'dd-mm-yyyy') in (select max(to_date(index_value_date,'dd-mm-yyyy')) from index_value_daily where index_id\=? and to_date(index_value_date,'dd-mm-yyyy')<to_date(?,'dd-mm-yyyy'))
insert_into_audit_trail=insert into audit_trail values(?,?,?,?,?,?)
insert_into_audit_trail_with_values=insert into audit_trail(audit_trail_id,activity_time,user_id,activity_date,activity_id,old_value,new_value) values(?,?,?,?,?,?,?)
totalReturns_divisortoday=select adjusted_divisor,index_closing_value  from index_value_daily where  index_value_date\=to_char( to_date(?,'dd-mm-yyyy') ,'dd-mm-yyyy') and index_id in (select parent_id from index_master where index_id\=?) 
totalReturns_divisortoday1=select adjusted_divisor,index_closing_value  from index_value_daily where  index_value_date\=to_char( to_date(?,'dd-mm-yyyy') ,'dd-mm-yyyy') and index_id\=?
totalreturns_priviousdivisor=select adjusted_divisor,index_closing_value from index_value_daily where index_value_date\=(select max(to_date(index_value_date,'dd-mm-yyyy')) from index_value_daily where index_value_date < current_date and index_id in (select parent_id from index_master where index_id\=?))
totalreturns_cashdividend=select sum(cad.amount*sm.tis) from corporate_action_diary cad, corporate_action_master cam, stock_master sm where lower(cam.cam_name) like lower('%cash dividend') and to_date(cad.applied_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and to_date(cad.applied_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') and cad.cam_id\=cam.cam_id and cad.stock_id in (select stock_id from index_composition where index_id in (select parent_id from index_master where index_id\=?))
totalreturns_cashdividend1=select sum(cad.amount*sm.tis) from corporate_action_diary cad, corporate_action_master cam, stock_master sm where lower(cam.cam_name) like lower('%cash dividend') and to_date(cad.applied_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and to_date(cad.applied_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') and cad.cam_id\=cam.cam_id and cad.stock_id in (select stock_id from index_composition where index_id\=?)
get_from_to_date=select to_char(current_date-date_difference ,'dd-mm-yyyy') as fromdate ,to_char(current_date,'dd-mm-yyyy') as todate from system_configuration
get_stock_id_where_symbol_series_exname=select stock_id from stock_identifier_codes where series\=? and identifier_code_value\=? and stock_id in (select stock_id from stock_master where  stock_exchange_id in (select stock_ex_id from stock_exchange_master where stock_ex_name\=?))
get_index_type=select index_type_id from index_master where index_id\=?

in_rating_codes=insert into rating_codes values(?,?,?)
up_rating_codes=update rating_codes set rating_code_name\=?, rating_code_detail\=? where rating_code_id\=?
chk_rating_codes=select rating_code_name,rating_code_id from rating_codes where lower(rating_code_name)\=lower(?)
up_inddaily_cl_high=update index_value_daily set index_highest_value \= ?,divisor \= ?,tmcv \= ?,index_closing_value \= ? where index_id \= ? and index_value_date \= ?
up_inddaily_op_high=update index_value_daily set index_highest_value \= ?,divisor \= ?,tmcv \= ?,index_opening_value \= ? where index_id \= ? and index_value_date \= ?
up_inddaily_op_low=update index_value_daily set index_lowest_value \= ?,divisor \= ?,tmcv \= ?,index_opening_value \= ? where index_id \= ? and index_value_date \= ?
up_inddaily_cl_low=update index_value_daily set index_lowest_value \= ?,divisor \= ?,tmcv \= ?, index_closing_value \= ? where index_id \= ? and index_value_date \= ?
up_inddaily_high=update index_value_daily set index_high_value \= ?,divisor \= ?,tmcv \= ?, where index_id \= ? and index_value_date \= ?
up_inddaily_low=update index_value_daily set index_lowest_value \= ?,divisor \= ?,tmcv \= ? where index_id \= ? and index_value_date \= ?
in_intra=insert into intra_day_indices(intra_day_indices_id,index_value, index_on_date,index_on_time,index_id,tmcv ) values((select nextval('intra_day_indices_id')),?,?,(select to_char(now(),'hh24\:mi\:ss')),?,?)
select_identifier_code_value_from_sic_for_exch=select sic.identifier_code_value from stock_identifier_codes sic where sic.stock_id in (select stock_id from stock_master where stock_exchange_id\=?) order by sic.identifier_code_value
insert_corp=insert into corporate_action_diary(cad_id,announce_date,ex_date,record_date,apply_on_date,applied_date,cam_id,stock_id,index_id,values,base_date,status) values(?,?,?,?,?,?,?,?,?,?,?,?)
delete_corp=delete from corporate_action_diary where cad_id\=?
get_identifier_code_for_stkid=select identifier_code_value from stock_identifier_codes where stock_id\=?
currencyindex_tmcv_divisor_parent=select tmcv , divisor from index_value_daily where index_id\=?
Stock_exchange_name_code_list=select stock_ex_name,stock_ex_code from stock_exchange_master
get_index_values_OHLC=select index_id,index_value_date,index_opening_value,index_highest_value,index_lowest_value,index_closing_value from  index_value_daily where (index_id\=? ) and to_date(index_value_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and to_date(index_value_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') order by to_date(index_value_date,'dd-mm-yyyy') 
compute_index_first_time=select index_opening_value,index_closing_value,index_value_date from index_value_daily where index_id\=? and index_value_date\=to_char(to_date(?,'dd-mm-yyyy'),'dd-mm-yyyy')
compute_index_first_time1=select index_closing_value from index_value_daily  where index_id\=? and index_value_date\=to_char(current_date,'dd-mm-yyyy')
get_adjusted_price_divisor=select adjusted_tmcv,adjusted_divisor   from index_value_daily where index_id\=? and  to_date(index_value_date,'dd-mm-yyyy')< to_date(?,'dd-mm-yyyy')  order by  to_date(index_value_date,'dd-mm-yyyy') desc limit 1
get_stock_details_where_stock_id=select sm.stock_id,stock_Name, iwf, ltp, currency_code,tis, market_lot, price_date from currencies c,stock_master sm left outer join (select stock_id,ltp,price_date from intra_day_stock_prices where stock_id\=? and intra_day_stock_price_id in (select max(intra_day_stock_price_id) from intra_day_stock_prices where stock_id\=?)) idsp on(idsp.stock_id\=sm.stock_id) where sm.stock_id\=? and  sm.stock_currency_id\=c.currency_id 
select_resp_close=select * from index_value_daily where index_id\=? and to_date(index_value_date,'dd-mm-yyyy') \=to_date(?,'dd-mm-yyyy')
get_company_id_where_exchange_id_symbol_series=select  sm.company_id from stock_master sm,stock_exchange_master sem,stock_identifier_codes sic where sem.stock_ex_id\=? and  sic.identifier_code_value\=?   AND  sem.stock_ex_id\=sm.stock_exchange_id and  sm.stock_id\=sic.stock_id  
check_if_fd_record_exist_old=select * from financial_detail where company_id\=? and from_date\=? and to_date\=? and is_audited\=? and is_cumulative\=?  and is_consolidated\=? and fin_year\=? 
insert_into_financial_detail_old=insert into financial_detail values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
check_if_fd_record_exist1=select * from financial_detail where company_id\=? and from_date\=? and to_date\=? and fin_year is null
insert_countries=insert into countries values(?,?,?,?,?)
stock_name_list_exchange_wise=select stock_id,stock_name from stock_master where stock_exchange_id\=? order by stock_name
currency_conversion_value=select intra_day_ex_rate_value  from intra_day_exchange_rate where from_to_currency_id\=?
identifier_code_belongs_to=select sic.identifier_code_value,sm.stock_id,sm.stock_name,st.stock_type_name,c.company_name,sem.stock_ex_name from  stock_master sm,stock_identifier_codes sic,stock_type st,company c,stock_exchange_master sem where sic.identifier_code_value\=? and sic.stock_id\=sm.stock_id and sm.stock_type_id\=st.stock_type_id and sm.company_id\=c.company_id and sm.stock_exchange_id\=sem.stock_ex_id 
select_type_name_from_stock_identifier_codes=select st.stock_type_name from stock_master sm,stock_identifier_codes sic,stock_type st where sic.identifier_code_value\=? and sic.stock_id\=sm.stock_id and sm.stock_type_id\=st.stock_type_id
type_for_stock_id=select st.stock_type_name from stock_type st,stock_master sm where sm.stock_id\=? and sm.stock_type_id\=st.stock_type_id
get_country_list=select country_id,country_name from countries order by country_name
get_country_desc=select country_name,country_short_name,continent_id,currency_id,country_id from countries where country_id \= ?
get_continent_list=select continent_id,continent_name from continents order by continent_name
get_courenccy_list=select cur.currency_id, con.country_name||'-'||cur.currency_name from currencies cur,countries con where cur.currency_id \= con.currency_id order by con.country_name 
check_country=Select country_name from countries where upper(country_name) \= upper(?)
update_countries=update countries set country_name \= ?,country_short_name \= ?, continent_id \= ?, currency_id \= ? where country_id \= ?
get_depository_receipt_list=select adr_gdr_id,adr_gdr_name from adr_gdr
select_stock_corpdiary=select cad.*,cam.cam_name,sm.stock_name from corporate_action_diary cad,corporate_action_master cam ,stock_master sm where cad.cam_id\=? and cad.stock_id\=? and cad.status\='n' and cam.cam_id\=cad.cam_id and cad.stock_id\=sm.stock_id and to_date(apply_on_date,'dd-mm-yyyy')\=to_date(?,'dd-mm-yyyy') 
check_action=select * from corporate_action_diary where cam_id\=? and stock_id\=? and applied_date\=? and status\='y'
get_rating_codes_desc=select rating_code_name,rating_code_detail,rating_code_id from rating_codes where rating_code_id \= ?
get_rating_codes_list=select rating_code_id,rating_code_name from rating_codes order by upper(rating_code_name)
insert_continents=insert into continents values(?,?)
check_continent_name=Select continent_name from continents where upper(continent_name) \= upper(?)
update_continents=update continents set continent_name \= ? where continent_id \= ?
get_continents_desc=select continent_name from continents where continent_id \= ?
get_continents_list=select continent_id,continent_name from continents order by 2
check_addcurrency=Select currency_name from currencies where upper(currency_name) \= upper(?)
insert_addcurrency=insert into currencies values(?,?,?)
update_addcurrency=update currencies set currency_name \= ?, currency_code \= ? where currency_id \= ?
addcurrency_list=select currency_id,currency_name||' - '||currency_code from currencies order by currency_name
get_addcurrency_desc=select currency_id,currency_name,currency_code from currencies where currency_id \= ?
get_company_list=select company_id,company_name from company order by upper(company_name)
get_index_and_stock_currency_id=select sm.stock_currency_id,im.base_currency_id from stock_master sm,index_master im where sm.stock_id\=? and im.index_id\=?
get_currency_exchange_rate=select ex_closing_value from exchange_rate_daily where from_to_currency_id in (select from_to_currency_id from from_to_currency where from_currency_id\=? and to_currency_id\=?)
insert_corp_action_master=insert into corporate_action_master (cam_id,cam_name,cam_shortname,cam_description,corporate_action_type,adjust_divisor,adjust_price) values(?,?,?,?,?,?,?)
chk_corp_action_master=Select cam_name from corporate_action_master where upper(cam_name) \= upper(?)
upd_corp_action_master=Update corporate_action_master set cam_name \= ?,cam_description \= ?,corporate_action_type \= ?, adjust_divisor \= ?, adjust_price \= ? where cam_id \= ?
sel_id_corp_action_master=Select cam_id from corporate_action_master where upper(cam_name) \= upper(?)
corp_action_master_list=select cam_id,cam_name||' - '||corporate_action_type from corporate_action_master order by corporate_action_type 
check_corp_existance=select * from corporate_action_diary where cam_id\=? and stock_id\=? and apply_on_date\=? and status\='n'
check_corp_adddel_exist=select * from corporate_action_diary where cam_id\=? and index_id\=? and stock_id\=? and status\='n'
get_from_to_currency_id_from_from_to_currency_where_forex_code=select  from_to_currency_id from from_to_currency where forex_code\=?
select_from_exchange_rate_daily_where_from_to_currency_id_date=select * from exchange_rate_daily where from_to_currency_id\=? and ex_rate_date\=?
insert_into_exchange_rate_daily=insert into exchange_rate_daily values(?,?,?,?,?,?,?,?,?)
insert_into_intra_day_exchange_rate=insert into intra_day_exchange_rate values(?,?,?,?,?)
update_exchange_rate_daily_set_high_close_traded_value=update exchange_rate_daily set ex_highest_value\=? ,ex_closing_value\=?,ex_traded_volume\=?,ex_last_value\=? where from_to_currency_id\=? and ex_rate_date\=? 
update_exchange_rate_daily_set_low_close_traded_value=update exchange_rate_daily set ex_lowest_value\=? ,ex_closing_value\=?,ex_traded_volume\=?,ex_last_value\=? where from_to_currency_id\=? and ex_rate_date\=? 
update_exchange_rate_daily_set_close_traded_value=update exchange_rate_daily set  ex_closing_value\=?,ex_traded_volume\=?,ex_last_value\=? where from_to_currency_id\=? and ex_rate_date\=?
get_company_name_id=select company_name from  company  where company_id \= ?
check_company_name=Select company_name from company where upper(company_name) \= upper(?)
insert_new_company=insert into company values(?,?)
update_new_company=update company set company_name \= ? where company_id \= ?
insert_classid_company=insert into class_company values(?,?)
get_class_id=select class_id from class_company where company_id \= ?
time_diff_list=select time_zone_id,description||' ('||time_difference||')' from time_zone order by 1
stock_exch_list=select stock_ex_id,stock_ex_name from stock_exchange_master order by upper(stock_ex_name)
check_stk_exchange=select stock_ex_name,stock_ex_id from stock_exchange_master where  lower(stock_ex_name)\=lower(?) 
check_stk_exchange_duplicate_code=select stock_ex_id from stock_exchange_master where  lower(stock_ex_code)\=lower(?) 
get_stk_exchange_desc=select stock_ex_id,stock_ex_name,country_id,time_zone_id,stock_ex_code,start_time,stop_time,identifier_code_id from stock_exchange_master where stock_ex_id \= ?
insert_stk_exchange=insert into stock_exchange_master values(?,?,?,?,upper(?),?,?,?)
update_stk_exchange=update stock_exchange_master set stock_ex_name \= ?, country_id \= ?, time_zone_id \= ?,stock_ex_code \= upper(?),start_time \=?,stop_time \= ?,identifier_code_id \= ? where stock_ex_id \= ?
check_iwf_exist=select * from corporate_action_diary where cam_id\=? and index_id\=? and stock_id\=? and apply_on_date\=? and status\='n'
check_base_exist=select * from corporate_action_diary where cam_id\=? and index_id\=? and apply_on_date\=? and status\='n'
exch_holiday_list=select stock_ex_holiday_id, stock_ex_holiday_name from stock_exchange_holidays where stock_ex_id \= ?
corp_action_master_list_desc=select cam_id,cam_name,cam_shortname, cam_description,corporate_action_type,adjust_divisor,adjust_price from corporate_action_master where cam_id \= ?
select_event_from_cad_between_date_stock=select * from event where to_date(apply_on_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and  to_date(apply_on_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') and stock_id\=? order by to_date(apply_on_date,'dd-mm-yyyy') desc
select_event_from_cad_between_date_exc=select * from event where to_date(apply_on_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and  to_date(apply_on_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') and stock_id in (select stock_id from stock_master sm where stock_exchange_id\=?) order by to_date(apply_on_date,'dd-mm-yyyy') desc
select_event_from_cad_between_date_excstk=select * from event where to_date(apply_on_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and  to_date(apply_on_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') and stock_id in(select stock_id from stock_master sm where stock_exchange_id\=? and stock_id\=?) order by to_date(apply_on_date,'dd-mm-yyyy') desc
select_from_cad_between_date_exc=select * from corporate_action_diary cad,corporate_action_master cam where cam.corporate_action_type\=? and cad.cam_id\=cam.cam_id and ((to_date(cad.apply_on_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and  to_date(cad.apply_on_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy'))  or (to_date(cad.applied_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and  to_date(cad.applied_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') and (status\='y') and apply_on_date is null))and cad.stock_id in (select stock_id from stock_master sm where stock_exchange_id\=?) order by to_date(applied_date,'dd-mm-yyyy') desc,to_date(apply_on_date,'dd-mm-yyyy') desc
select_from_cad_between_date_stock=select * from corporate_action_diary cad,corporate_action_master cam where cam.corporate_action_type\=? and cad.cam_id\=cam.cam_id and ((to_date(cad.apply_on_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and  to_date(cad.apply_on_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy'))  or (to_date(cad.applied_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and  to_date(cad.applied_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') and (status\='y') and apply_on_date is null)) and cad.stock_id\=?  order by to_date(applied_date,'dd-mm-yyyy') desc,to_date(apply_on_date,'dd-mm-yyyy') desc
select_from_cad_between_date_excstk=select * from corporate_action_diary cad,corporate_action_master cam where cam.corporate_action_type\=? and cad.cam_id\=cam.cam_id and ((to_date(cad.apply_on_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and  to_date(cad.apply_on_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy'))  or (to_date(cad.applied_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and  to_date(cad.applied_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') and (status\='y') and apply_on_date is null)) and cad.stock_id in(select stock_id from stock_master sm where stock_exchange_id\=? and stock_id\=?) order by to_date(applied_date,'dd-mm-yyyy') desc,to_date(apply_on_date,'dd-mm-yyyy') desc
select_from_cad_between_date_ind=select * from corporate_action_diary cad,corporate_action_master cam where cam.corporate_action_type\=? and cad.cam_id\=cam.cam_id and ((to_date(cad.apply_on_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and  to_date(cad.apply_on_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy'))  or (to_date(cad.applied_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and  to_date(cad.applied_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') and (status\='y') and apply_on_date is null)) and cad.stock_id in(select stock_id from index_composition where index_id\=?) order by to_date(applied_date,'dd-mm-yyyy') desc,to_date(apply_on_date,'dd-mm-yyyy') desc
select_from_cad_between_date_resp_ind=select * from corporate_action_diary cad,corporate_action_master cam where cam.corporate_action_type\=? and cad.cam_id\=cam.cam_id and ((to_date(cad.apply_on_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and  to_date(cad.apply_on_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy'))  or (to_date(cad.applied_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and  to_date(cad.applied_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') and (status\='y') and apply_on_date is null)) and cad.index_id\=? order by to_date(applied_date,'dd-mm-yyyy') desc,to_date(apply_on_date,'dd-mm-yyyy') desc
select_from_cad_between_date_indstk=select * from corporate_action_diary cad,corporate_action_master cam where cam.corporate_action_type\=? and cad.cam_id\=cam.cam_id and ((to_date(cad.apply_on_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and  to_date(cad.apply_on_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy'))  or (to_date(cad.applied_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and  to_date(cad.applied_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') and (status\='y') and apply_on_date is null)) and stock_id\=? and index_id\=? order by to_date(applied_date,'dd-mm-yyyy') desc,to_date(apply_on_date,'dd-mm-yyyy') desc
select_event_from_cad_between_date_ind=select * from event where to_date(apply_on_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and  to_date(apply_on_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') and stock_id in(select stock_id from index_composition where index_id\=?) order by to_date(apply_on_date,'dd-mm-yyyy') desc
check_index_action=select * from corporate_action_diary where cam_id\=? and index_id\=? and stock_id\=? and applied_date\=? and status\='y'
get_holiday_desc=select stock_ex_holiday_id,stock_ex_holiday_name,stock_ex_holiday_date,stock_ex_holiday_description,stock_ex_id from stock_exchange_holidays where stock_ex_holiday_id \= ?
insert_stock_ex_holiday=insert into stock_exchange_holidays values(?,?,?,?,?)
update_holiday_master=update stock_exchange_holidays set stock_ex_holiday_name \= ?, stock_ex_holiday_date \= ?, stock_ex_holiday_description \= ? where stock_ex_holiday_id \= ? 
chk_holiday_master=select stock_ex_holiday_name from stock_exchange_holidays where lower(stock_ex_holiday_name)\=lower(?) and stock_ex_id\=?
insert_time_zone=insert into time_zone values(?,?,?)
sel_time_desc=select time_zone_id,description from time_zone where lower(description)\=lower(?)
sel_time_desc1=select time_difference,description from time_zone where time_zone_id \= ?
update_time_zone=update time_zone set time_difference \= ?, description \= ? where time_zone_id \= ?
time_zone_list=select time_zone_id,'(GMT '||time_difference||')'||'  '||description from time_zone order by time_difference
get_frto_desc=select from_to_currency_id,forex_code,to_currency_id,from_currency_id,description from from_to_currency where from_to_currency_id \= ?
frto_list=select from_to_currency_id,forex_code from from_to_currency order by 2
insert_frto_currency=insert into from_to_currency(from_to_currency_id,forex_code,to_currency_id,from_currency_id,description) values(?,?,?,?,?)
check_frto_currency=Select forex_code from from_to_currency where upper(forex_code) \= upper(?)
update_frto_currency=update from_to_currency set forex_code \= ?, to_currency_id \= ?, from_currency_id \= ?, description \= ? where from_to_currency_id \= ?
index_type_desc=select index_type_name,description,index_type_code,index_type_id,segment from index_type where index_type_id \= ?
insert_index_type=insert into index_type values(?,?,?,?,?)
check_index_type=Select index_type_name from index_type where upper(index_type_name) \= upper(?)
update_index_type=UPDATE index_type  SET  index_type_name\=?, description\=?, index_type_code\=?,segment\=? where index_type_id \= ?
insert_frto_intra_day=insert into intra_day_exchange_rate values((select nextval('intra_day_ex_rate_id')),?,?,(select to_char(current_date,'dd-mm-yyyy')),(select substr(current_time,1,8)))
insert_frto_exchange_rate_dailly=insert into exchange_rate_daily values((select nextval('ex_rate_daily_id')),?,?,?,?,0,?,(select to_char(current_date,'dd-mm-yyyy')))
sel_identifier_list=select identifier_code_id,identifier_code_name from identifier_codes order by upper(identifier_code_name)
sel_identifier_desc=select identifier_code_name,identifier_code_description,identifier_code_id from identifier_codes where identifier_code_id \= ?
insert_identifier_codes=insert into identifier_codes values(?,?,?)
check_identifier_codes=Select identifier_code_name from identifier_codes where upper(identifier_code_name) \= upper(?)
update_identifier_codes=update identifier_codes set identifier_code_name \= ?, identifier_code_description \= ? where identifier_code_id \= ?
tree_index_query=select im.index_id,index_name,parent_id,ic.stock_name,ic.stock_id ,is_captured ,it.index_type_code  from index_type it,index_master im left outer join (select ic.index_id,identifier_code_value as stock_name,ic.stock_id from index_composition ic,stock_master sm,stock_exchange_master sem,stock_identifier_codes sic where ic.stock_id\=sm.stock_id  and sm.stock_id\=sic.stock_id and sm.stock_exchange_id\=sem.stock_ex_id and sem.identifier_code_id\=sic.identifier_code_id and ic.index_id in (select index_id from index_master where is_active\='y')) ic on (ic.index_id\=im.index_id) where it.index_type_id\=im.index_type_id order by  im.index_id,parent_id
check_applied_date=select * from corporate_action_diary where cad_id\=? and to_date(applied_date,'dd-mm-yyyy')\=to_date(?,'dd-mm-yyyy')
delete_stkmas_history=delete from stock_master_history where cad_id\=?
delete_indxcomp_history=delete from index_composition_history where cad_id\=?
get_is_active_value_for_stock=select is_active from stock_master where stock_id\=?
tree_cap_query=select class_name,c.class_id,parent_class_id,level_short_name as level_name,cl.level_id,industry_classification_short_name,icm.industry_classification_id,company_name,cc.company_id from industry_classification_master icm, classification_level cl, class c left outer join (select c.class_id,company_name,cmp.company_id from class c,company cmp,class_company cc where c.class_id\=cc.class_id and cc.company_id\=cmp.company_id ) cc on (c.class_id\=cc.class_id) where icm.industry_classification_id\=cl.industry_classification_id and cl.level_id\=c.level_id order by c.class_id
Nyse_get_stock_id_where_exchange_code=select sm.stock_id from stock_master sm,stock_identifier_codes sic,stock_exchange_master sem where stock_exchange_id\=? and sm.stock_name\=? and sic.identifier_code_value\=?  and sic.identifier_code_id\=sem.identifier_code_id and sm.stock_id\=sic.stock_id and sm.stock_exchange_id\=sem.stock_ex_id 
query.lastclosingvalue=select index_value from intra_day_indices where  intra_day_indices_id in (select max(intra_day_indices_id) from intra_day_indices where index_id\=? and to_date(index_on_date,'dd-mm-yyyy') in (select max(to_date(index_on_date,'dd-mm-yyyy')) from intra_day_indices where index_id\=?))
query.sysconfiguration=select index_name as name,alert_percentage as alert , rejection_percentage as reject from index_master where index_id\=?
get_stock_id_from_stock_identifier_codes_Nyse=select stock_id from stock_identifier_codes where identifier_code_value\=? and identifier_code_id in (select identifier_code_id from identifier_codes where identifier_code_name\=?)
select_undo_list=select * from corporate_action_diary where cad_id\!\=?  and stock_id\=? and status\='y' and to_date(applied_date,'dd-mm-yyyy') >\= to_date(?,'dd-mm-yyyy') and applied_time >\=? order by to_date(applied_date,'dd-mm-yyyy') desc
cad_stkind_details=select cam.cam_name,sm.stock_name,sm.stock_ex_name,cad.apply_on_date,cad.applied_date,cad.amount,cad.percentage,cad.ratio_for_shares,cad.ratio_shares_offered,cad.values,cad.status,cad.index_id,im.index_name from corporate_action_master cam,corporate_action_diary cad left outer join (select\tindex_name ,im.index_id from index_master im,corporate_action_diary cad  where cad.cad_id\=? and im.index_id\=cad.index_id) im on (cad.index_id\=im.index_id) left outer join (select sm.stock_id,stock_name,stock_ex_name from stock_master sm ,stock_exchange_master sem ,corporate_action_diary cad where cad.cad_id\=? and cad.stock_id\=sm.stock_id and sm.stock_exchange_id\=sem.stock_ex_id)sm on (cad.stock_id\=sm.stock_id) where cad_id\=? and cad.cam_id\=cam.cam_id 
check_ind_exist=select * from corporate_action_diary where cad_id\!\=? and index_id\=? and status\='y' and to_date(applied_date,'dd-mm-yyyy') >\= to_date(?,'dd-mm-yyyy') and applied_time>\=?  order by to_date(applied_date,'dd-mm-yyyy') desc 
get_resp_date_closevalue=select * from stock_price_daily where stock_id\=? and to_date(stock_price_date,'dd-mm-yyyy')\=to_date(?,'dd-mm-yyyy')
get_resp_ind_close=select adjusted_tmcv as tmcv,adjusted_divisor as divisor,index_closing_value from  index_value_daily  where index_id\=? and to_date(index_value_date,'dd-mm-yyyy')\= to_date(?,'dd-mm-yyyy')
update_resp_tis_after_ca=update  stock_price_daily set adjusted_price\=?,mcv\=? where stock_id\=? and  to_date(stock_price_date,'dd-mm-yyyy')\= to_date(?,'dd-mm-yyyy')
update_resp_adjusted_divisor_after_ca=update  index_value_daily  set adjusted_divisor\=? ,adjusted_tmcv\=? where index_id\=? and to_date(index_value_date,'dd-mm-yyyy')\= to_date(?,'dd-mm-yyyy')
update_resp_index_value_daily=update index_value_daily set index_id\=?,adjusted_tmcv\=?,adjusted_divisor\=? where index_id\=? and to_date(index_value_date,'dd-mm-yyyy')\= to_date(?,'dd-mm-yyyy')
insert_into_cad_values_with_time=insert into corporate_action_diary (cad_id,announce_date,ex_date,record_date,apply_on_date,applied_date,ratio_for_shares,ratio_shares_offered,amount,percentage,status,description,cam_id,stock_id,values,bc_start_date,bc_end_date,nd_start_date,nd_end_date,applied_time) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
update_index_cad_with_time=update corporate_action_diary set announce_date\=?,ex_date\=?,record_date\=?,apply_on_date\=?,applied_date\=?,cam_id\=?,stock_id\=?,index_id\=?,values\=?,base_date\=?,status\=?,applied_time\=? where cad_id\=?
get_stock_id_where_symbol=select stock_id from stock_identifier_codes sic,stock_exchange_master sem where sic.identifier_code_value\=?  and  sem.stock_ex_id\=? and  sem.identifier_code_id\=sic.identifier_code_id 
#select_mcap_for_index_composition=select * from get_mcap_for_index_composition_using_join(?,?) as a(stock_id varchar,stock_name varchar,iwf varchar,price_date varchar,ltp varchar,currency_code varchar,tis varchar,market_lot varchar,stock_currency_id varchar)

#modified by Samiksha
select_mcap_for_index_composition=select * from get_mcap_for_index_composition_using_join(?,?) as a(stock_id integer,stock_name varchar,iwf double precision,price_date varchar,ltp varchar,currency_code varchar,tis double precision,market_lot smallint,stock_currency_id smallint)



select_mcap_for_child_index_composition=select * from get_mcap_for_child_index_composition_using_join(?,?) as a(stock_id varchar,stock_name varchar,iwf varchar,price_date varchar,ltp varchar,currency_code varchar,tis varchar,market_lot varchar,stock_currency_id varchar)
currency_index_ex_rate=select * from exchange_rate_daily where  from_to_currency_id \=? and ex_rate_date\=?
currency_index_exrate_date=select * from exchange_rate_daily where from_to_currency_id\=? and to_date(ex_rate_date,'dd-mm-yyyy') in (select max(to_date(ex_rate_date,'dd-mm-yyyy')) from exchange_rate_daily where from_to_currency_id\=? and  to_date(ex_rate_date,'dd-mm-yyyy')<to_date(?,'dd-mm-yyyy'))
compute_currency_index_tmcv_divisor=select * from index_value_daily where index_value_date\=? and index_id\=?
compute_currency_index_tmcv_divisor1=select * from index_value_daily where index_id\=? and to_date(index_value_date,'dd-mm-yyyy') in (select max(to_date(index_value_date,'dd-mm-yyyy')) from index_value_daily where index_id \=? and  to_date(index_value_date,'dd-mm-yyyy') < to_date(?,'dd-mm-yyyy'))
indexUpdate_getall_entries_index_master=select creation_date,is_active,base_date,base_value,computation_interval,is_captured ,captured_from,m_start_time,n_stop_time,o_ric,is_child,parent_id,base_currency_id,index_type_id,alert_percentage,rejection_percentage,industry_classification_code,growth_or_value,calculate_settlement_value,isin,is_customized,next_day,index_name,is_test from index_master where index_id\=?
indexUpdate_getall1=select * from index_master where user_id\=? order by upper(index_name)
indexUpdate_update_index_master=update index_master set index_name\=?,index_type_id\=?,o_ric\=?,alert_percentage\=?,rejection_percentage\=?,isin\=?,calculate_settlement_value\=?,m_start_time\=?,n_stop_time\=?,is_active\=?,computation_interval\=?,captured_from\=?,growth_or_value\=? where index_id \=?
indexUpdate_select_index_name=select index_name from index_master where index_id\=?
indexUpdate_get_ind_classification_code=select class_name,c.class_id,parent_class_id,level_short_name,cl.level_id,industry_classification_short_name,icm.industry_classification_id,company_name,cc.company_id from  industry_classification_master icm, classification_level cl,class c left outer join (select c.class_id,company_name,cmp.company_id  from  class c, company cmp, class_company cc where c.class_id\=cc.class_id and cc.company_id\=cmp.company_id ) cc on (c.class_id\=cc.class_id) where icm.industry_classification_id\=cl.industry_classification_id and  cl.level_id\=c.level_id and c.class_id\=?
indexUpdate_select_currency_name=select currency_name from  currencies where currency_id\=?
indexUpdate_select_index_type=select index_type_id,index_type_name from index_type where index_type_id\=?
indexUpdate_get_indices_from_index_master=select index_id,index_name,industry_classification_code,is_child from index_master where index_id not in(select index_id from index_master where industry_classification_code>0 and is_child\='y') order by upper(index_name)
indexUpdate_get_index_stock_id_iwf<1=select index_stock_id from index_composition where index_id\=? and iwf<1
indexUpdate_get_index_type_from_index_master=select index_type_id,index_type_name from index_type where is_active\='y' and segment\='EQ' order by upper(index_type_name)
indexUpdate_getall_feed_provider_from_feed_provider=select feed_provider_id,feed_provider_name from feed_provider order by upper(feed_provider_name)
indexUpdate_chk_dupicate_name=select index_id from index_master where index_name\=?
sysConfig_select_*_from_index_classification_master=select industry_classification_id,industry_classification_name from industry_classification_master order by upper(industry_classification_name)
sysconfig_select_*_from_systemConfiguration=select * from system_configuration
sysconfig_select_configuration_id_from_system_configuration=select configuration_id from system_configuration
sysconfig_select_from_stock_exchange_master=select stock_ex_id,stock_ex_name from stock_exchange_master order by upper(stock_ex_name)
sysconfig_select_currencies=select co.currency_id,co.country_name,cu.currency_name from countries co,currencies cu where co.currency_id\=cu.currency_id order by upper(co.country_name)
sysconfig_select_countries=select country_id,country_name from countries order by upper(country_name)
sysconfig_select_time=select time_zone_id,time_difference,description from time_zone order by time_difference
sysconfig_insert=insert into system_configuration(configuration_id,computation_interval,monitor_refresh_rate,precision_value,rate_of_price_feed,customer_name,name_logo_vertical_align,name_logo_horizontal_align,max_no_of_companies,alert_percentage,rejection_percentage,intra_day_archival_interval,industry_classification_id,time_zone_id,customer_logo_path,date_format,market_lot,stock_ex_id,currency_id,country_id,date_difference,adjust_stock_price,percentage_change_in_share,language_id,index_id,facevalue,paidvalue,indextype,stocktype) values(1,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
sysconfig_update=update system_configuration set computation_interval\=?,monitor_refresh_rate\=?,precision_value\=?,rate_of_price_feed\=?,customer_name\=?,name_logo_vertical_align\=?,name_logo_horizontal_align\=?,max_no_of_companies\=?,alert_percentage\=?,rejection_percentage\=?,intra_day_archival_interval\=?,industry_classification_id\=?,time_zone_id\=?,customer_logo_path\=?,date_format\=?,market_lot\=?,stock_ex_id\=?,currency_id\=?,country_id\=?,date_difference\=?,adjust_stock_price\=?,percentage_change_in_share\=?,language_id\=?,index_id\=?,facevalue\=?,paidvalue\=?,indextype\=?,stocktype\=?
sysconfig_select_language=select * from language order by upper(language_name) 
roleActivities_delete_from_role_activities=delete from roles_activities where role_id\=?
roleActivities_insert=insert into roles_activities values(?,?)
roleActivities_select_*_from_role=select role_id,role_name from roles order by upper(role_name)
roleActivities_select_*_from_activity=select activity_id,activity_name from activities order by upper(activity_name)
roleActivities_getAssignedActivities=select r_a.activity_id,a.activity_name from activities as a,roles_activities as r_a where a.activity_id \= r_a.activity_id and r_a.role_id\=?
userRoles_select_*_from_users=select user_id,first_name from users order by upper(first_name)
userRoles_get_assigned_roles=select r.role_id,r.role_name from roles as r ,user_roles as u_r where u_r.role_id \= r.role_id and u_r.user_id\=?
userRoles_delete=delete from user_roles where user_id\=?
userRoles_insert=insert into user_roles values(?,?)
activities_select_*_from_activties=select activity_id,activity_name from activities order by upper(activity_name)
activities_get_activity_name_description_code_of_activity=select activity_name,description,activity_code from activities where activity_id\=?
activities_insert=insert into activities (activity_id,activity_name,description,activity_code) values(?,?,?,?)
activities_update=update activities set activity_name\=?,description\=?  where activity_id\=?
totalReturns_cashdividend_details=select  amount*sm.tis as dividend,sm.stock_currency_id from corporate_action_diary cad, stock_master sm, corporate_action_master cam where sm.stock_id\=cad.stock_id and to_date(applied_date,'dd-mm-yyyy') >\=to_date(?,'dd-mm-yyyy') and to_date(applied_date,'dd-mm-yyyy') <\= to_date(?,'dd-mm-yyyy') and   lower(cam.cam_name) like lower('%cash dividend') and cam.cam_id\=cad.cam_id and cad.stock_id in (select stock_id from index_composition where index_id in (select parent_id from index_master where index_id\=?))
get_index_name_from_id=select index_name from index_master where index_id \= ?
roles_insert=insert into roles values(?,?,?)
roles_update=update roles set role_name\=?,description\=? where role_id\=?
roles_select_*_from_roles=select role_id,role_name from roles order by upper(role_name)
roles_get_description=select description,role_id,role_name from roles where role_id\=?
roles_duplicate_role_name=select role_id,role_name from roles where lower(role_name)\=lower(?)
activities_duplicate_activity_name=select activity_id,activity_name from activities where lower(activity_name)\=lower(?)
activities_duplicate_activity_code=select activity_id from activities where lower(activity_code)\=lower(?)
get_alert_on_price_import=select sm.stock_id,spd.stock_closing_value,sm.rejection_percentage from stock_price_daily spd ,stock_master sm where sm.stock_id\=spd.stock_id and to_date(spd.stock_price_date,'dd-mm-yyyy') in (select  max(to_date(stock_price_date,'dd-mm-yyyy')) from stock_price_daily where stock_id in(select stock_id from stock_master where stock_exchange_id\=?))
get_tmcv_for_composition=select ic.index_id,sum(ic.mcv) as adjusted_tmcv,  index_value_date from  index_value_daily ivd,index_composition ic where ic.index_id\=? and ic.index_id\=ivd.index_id  and to_date(index_value_date,'dd-mm-yyyy') in (select max(to_date(index_value_date,'dd-mm-yyyy')) from index_value_daily where index_id\=?) group by ic.index_id,index_value_date; 
get_composition_for_compose_report=select sm.stock_id, sm.stock_name,c.currency_code,sm.tis,ic.iwf,spd.adjusted_price,(ic.mcv) as mcv, spd.stock_price_date,sm.market_lot,spd.last from index_composition ic,stock_master sm,currencies c,stock_price_daily spd where ic.index_id\=? and sm.is_active\='y' and ic.stock_id\=sm.stock_id and sm.stock_id\=spd.stock_id and sm.stock_currency_id\=c.currency_id  and stock_price_daily_id in (select max(stock_price_daily_id) from stock_price_daily spd,index_composition ic where ic.index_id\=? and ic.stock_id\=spd.stock_id and to_date( stock_price_date,'dd-mm-yyyy') in (select max(to_date( stock_price_date,'dd-mm-yyyy')) from stock_price_daily where stock_id in (select stock_id from index_composition where index_id\=?) group by stock_id) group by spd.stock_id)
get_index_id_for_index_name=select index_id  from index_master where index_name \=?
index_calculator_report_mcv=select ic.stock_id,identifier_code_value,ic.mcv from index_composition ic,stock_identifier_codes sic where ic.index_id\=? and ic.stock_id\=sic.stock_id and identifier_code_id in (select identifier_code_id from stock_exchange_master where stock_ex_id in (select stock_exchange_id from stock_master where stock_id in (select stock_id from index_composition where index_id\=?)))
#index_calculator_report_price=select index_id,stock_id,identifier_code_value,last from vw_temp1 where index_id\=?
index_calculator_report_price=select sm.stock_id,identifier_code_value,last from stock_price_daily spd,index_composition ic,stock_master sm,stock_identifier_codes sic,stock_exchange_master sem where ic.index_id\=? and spd.stock_id\=ic.stock_id and ic.stock_id\=sm.stock_id and sm.stock_exchange_id\=sem.stock_ex_id and sem.identifier_code_id\=sic.identifier_code_id and sic.stock_id\=ic.stock_id and stock_price_daily_id in (select max(stock_price_daily_id) from stock_price_daily spd where to_date(stock_price_date,'dd-mm-yyyy') in (select max(to_date(stock_price_date,'dd-mm-yyyy')) from stock_price_daily where stock_id in (select stock_id from index_composition where index_id\=?) group by stock_id) group by stock_id) order by identifier_code_value
portpolio_tis_calculator_report=select sm.stock_id,sm.tis,ic.iwf,ic.mcv,spd.stock_price_date,last,identifier_code_value,stock_currency_id,sm.market_lot from stock_master sm,index_composition ic,stock_price_daily spd,stock_exchange_master sem,stock_identifier_codes sic where index_id\=? and sm.stock_id\=ic.stock_id and sm.stock_exchange_id\=sem.stock_ex_id and sem.identifier_code_id\=sic.identifier_code_id and sic.stock_id\=ic.stock_id and spd.stock_id\=ic.stock_id and (to_date(stock_price_date,'dd-mm-yyyy'),spd.stock_id) in (select max(to_date(stock_price_date,'dd-mm-yyyy') ),ic.stock_id from stock_price_daily spd,index_composition ic where ic.index_id\=? and ic.stock_id\=spd.stock_id group by ic.stock_id) order by identifier_code_value
get_identifier_code_name_for_stockid=select * from stock_identifier_codes where stock_id\=? and identifier_code_id in (select identifier_code_id from identifier_codes where lower(identifier_code_name)\=lower(?))
get_exchange_code_name_for_stockid=select * from stock_identifier_codes where stock_id\=? and identifier_code_id in (select identifier_code_id from stock_exchange_master where stock_ex_id in (select stock_exchange_id from stock_master where stock_id\=?))
get_adr_gdr_detail_for_stock=select * from stock_adr_gdr_ratios where stock_id\=?
check_identifier_name=select identifier_code_id, identifier_code_name from identifier_codes where identifier_code_name \= ?
check_identifier_name_from_id=select identifier_code_id, identifier_code_name from identifier_codes where identifier_code_id \= ?  
stock_name_select=select stock_name from stock_master where stock_id \= ?
get_stock_list_for_inactive_stock=select sm.stock_id,stock_name,sm.tis, face_value,listing_date from stock_master sm  where stock_exchange_id\=? and sm.is_active\='d'   order by to_date(listing_date,'dd-mm-yyyy') desc 
indexUpdate_del_indices=delete from index_master where is_child\='y' and   parent_id\=? 
indexUpdate_del_indices1=delete from index_master where  index_id\=? 
icm_select_*_from_industry_classification_master=select * from industry_classification_master order by upper(industry_classification_name)
icm_get_description=select * from industry_classification_master where industry_classification_id\=? 
icm_insert=insert into industry_classification_master(industry_classification_id,industry_classification_name,industry_classification_short_name,description) values (?,?,?,?) 
icm_update=update industry_classification_master set industry_classification_name\=?,industry_classification_short_name\=?,description\=? where industry_classification_id\=?
icm_duplicateName=select industry_classification_id from industry_classification_master where lower(industry_classification_name)\=lower(?)
resp_frto_currency=select * from from_to_currency where from_currency_id\=? or to_currency_id\=?
resp_exrate_value=select * from exchange_rate_daily where from_to_currency_id\=? and to_date(ex_rate_date,'dd-mm-yyyy')\=(select max(to_date(ex_rate_date,'dd-mm-yyyy')) from exchange_rate_daily where from_to_currency_id\=?) 
totalreturns.nodata=<LI> No Data Found</LI>
indexcomputation.todayclosing=select index_closing_value  from index_value_daily where index_id\=? and index_value_date\=to_char( to_date(?,'dd-mm-yyyy') ,'dd-mm-yyyy')
indexcomputation.computeOnLast_date=select index_value_date,index_closing_value from index_value_daily where index_id\=? and to_date(index_value_date,'dd-MM-yyyy') in (select max(to_date(index_value_date,'dd-MM-yyyy')) from index_value_daily where to_date(index_value_date,'dd-MM-yyyy') < to_date(?,'dd-MM-yyyy') and index_id\=?)
classLevel_select_*_from_class_level=select * from classification_level where industry_classification_id\=? order by level_no
classLevel_get_all_description=select * from classification_level where level_id\=? 
classLevel_insert=insert into classification_level(level_id,level_name,level_no,industry_classification_id,level_short_name,description) values (?,?,?,?,?,?)
classLevel_update=update classification_level set level_name\=?,level_short_name\=?,description\=? where level_id\=?
classLevel_duplicate_role_name=select level_id,level_name from classification_level  where lower(level_name)\=lower(?) and industry_classification_id\=?
classLevel_duplicate_level_no=select level_id from classification_level where industry_classification_id\=? and level_no\=?
classLevel_insert_in_between=select class_id from class where level_id in (select level_id from classification_level where industry_classification_id\=?)
classLevel_select_Max_level_no=select MAX(level_no) from classification_level where industry_classification_id\=?
classLevel_update_top=update classification_level set level_no\=level_no+1 where level_no>\=1 and industry_classification_id\=?
classLevel_update_after=update classification_level set level_no\=level_no+1 where level_no>? and industry_classification_id\=?
resp_child_indcurr=select * from index_master where parent_id\=? and is_child\='y' and is_captured\='n' order by index_name
resp_ftcurr=select * from from_to_currency where from_to_currency_id\=?
traded_volume_list_exchange_wise=select sm.stock_id,sm.stock_name,avg(spd.traded_volume) from stock_master sm,stock_price_daily spd where sm.stock_exchange_id\=? and spd.traded_volume>\=?  and  to_date(spd.stock_price_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and  to_date(spd.stock_price_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') and spd.stock_id\=sm.stock_id group by sm.stock_id,stock_name order by stock_name
traded_volume_list_index_wise=select ic.stock_id,sm.stock_name,avg(spd.traded_volume) from stock_master sm,stock_price_daily spd,index_composition ic where ic.index_id\=? and spd.traded_volume>\=?  and to_date(spd.stock_price_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and to_date(spd.stock_price_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') and ic.stock_id\=sm.stock_id and spd.stock_id\=sm.stock_id  group by ic.stock_id,stock_name order by stock_name
stock_divident_exchange_wise=select sm.stock_id,sm.stock_name,sm.face_value,sm.tis,spd.mcv,cad.amount,cad.applied_date  from stock_master sm,stock_price_daily spd ,corporate_action_diary cad,corporate_action_master cam where sm.stock_exchange_id\=? and cad.cam_id\=1  and  cad.status\='y' and to_date(cad.applied_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and to_date(cad.applied_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') and spd.stock_id\=sm.stock_id and sm.stock_id\=cad.stock_id and spd.stock_id\=cad.stock_id and cam.cam_id\=cad.cam_id and spd.stock_price_date\=cad.applied_date order by to_date(cad.applied_date,'dd-mm-yyyy')
stock_divident_index_wise=select sm.stock_id,sm.stock_name,sm.face_value,sm.tis,spd.mcv,cad.amount,cad.applied_date  from  stock_master sm,stock_price_daily spd,corporate_action_diary cad,corporate_action_master cam,index_composition ic where ic.index_id\=?  and cad.cam_id\=1  and  cad.status\='y' and to_date(cad.applied_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and to_date(cad.applied_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') and ic.stock_id\=sm.stock_id and spd.stock_id\=sm.stock_id and sm.stock_id\=cad.stock_id and spd.stock_id\=cad.stock_id and cam.cam_id\=cad.cam_id and spd.stock_price_date\=cad.applied_date order by to_date(cad.applied_date,'dd-mm-yyyy')
insert_curr_diary=insert into corporate_action_diary(cad_id,announce_date,ex_date,record_date,apply_on_date,applied_date,amount,status,cam_id,index_id,values,applied_time,description) values(?,?,?,?,?,?,?,?,?,?,?,?,?)
update_indmaster=update index_master set base_currency_id\=? where index_id\=?
insert_indmas_his=insert into index_master_history values((SELECT nextval('index_mh_id')),?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
check_diarycurr_exist=select * from corporate_action_diary where cam_id\=? and index_id\=? and status\='y' and to_date(applied_date,'dd-mm-yyyy')\=to_date(?,'dd-mm-yyyy')
select_hisstk_list=select * from corporate_action_diary where stock_id\=? and status\='y' and to_date(applied_date,'dd-mm-yyyy') > to_date(?,'dd-mm-yyyy') order by to_date(applied_date,'dd-mm-yyyy') desc
select_hisind_list=select * from  corporate_action_diary where index_id in (select index_id from index_composition where stock_id\=?)
classes_select_class_name_for_class_id=select class_id,class_name from class where level_id in (select level_id from classification_level where level_no\=? and industry_classification_id\=?) order by upper(class_name)
classes_select_class_name_for_class_id1=select class_id,class_name from class where level_id\=? order by upper(class_name)
classes_insert=insert into class(class_id,class_name,description,level_id,parent_class_id,industry_classification_code,short_name) values (?,?,?,?,?,?,?)
classes_select_*=select * from class where class_id\=?
classes_update=update class set class_name\=?,description\=?,industry_classification_code\=?,short_name\=? where class_id\=?
classes_add_duplicate_class_name=select class_id from class where lower(class_name)\=lower(?) and level_id\=?
classes_duplicate_classification_code=select class_id from class where lower(industry_classification_code)\=lower(?)
classLevel_select_class_name_for_class_id=select class_id,class_name from class where level_id\=?
classes_duplicate_classification_code1=select industry_classification_code from class where class_id\=?
industry_classification_list_selected=select class_id,icm.industry_classification_short_name|| '\:' ||level_short_name || ' - ' ||class_name  from  class c, classification_level cl, industry_classification_master icm where class_id in (select class_id from index_compliance_class where compliance_id \= ?) and c.level_id\=cl.level_id and  cl.industry_classification_id\=icm.industry_classification_id order by industry_classification_name,cl.level_id,industry_classification_code 
get_compliance_name_desc=select compliance_id,compliance_name,compliance_short_name,description,mcap_rank,minimum_weight,avg_trading_volume_rank,avg_trading_value_rank,listed_history,floating_stock,stock_type_id,currency_id,ranking_type,mcap_range1,mcap_range2,maximum_weight,avg_traded_volume_range1,avg_traded_value_range1,avg_traded_value_range2,stock_ex_id,country_id,avg_traded_volume_range2,mcap_from_duration,mcap_to_duration,value_from_duration,value_to_duration,volume_from_duration,volume_to_duration from index_compliance where compliance_id\=? and user_id\=?
sel_ind_classification_list=select compliance_id, compliance_name from index_compliance where user_id\=? 
get_compliance_arr=Select class_id from index_compliance_class where compliance_id \= ?
check_compliance_dupl=select compliance_name from index_compliance where compliance_name \= ?  
get_currency_list_for_index=select cr.currency_id,c.country_name || ' \: ' ||  cr.currency_name from currencies cr,countries c where cr.currency_name<>'Other' and c.currency_id\=cr.currency_id and cr.currency_id in (select to_currency_id from from_to_currency where from_currency_id\=? ) union select cr.currency_id,c.country_name || ' \: ' ||  cr.currency_name from currencies cr,countries c where cr.currency_name<>'Other' and c.currency_id\=cr.currency_id and  cr.currency_id in (select from_currency_id from from_to_currency where  to_currency_id\=?)
get_index_detail_for_index_currency_wise=select im.base_currency_id,ivd.adjusted_tmcv,ivd.adjusted_divisor,ivd.index_closing_value  from index_master im,index_value_daily ivd where im.index_id\=? and im.index_id\=ivd.index_id and to_date(ivd.index_value_date,'dd-mm-yyyy') in (select max(to_date(index_value_date,'dd-mm-yyyy')) from index_value_daily where index_id\=?)
get_currency_name=select cr.currency_id,c.country_name || ' \: ' ||  cr.currency_name from currencies cr,countries c where cr.currency_name<>'Other' and c.currency_id\=cr.currency_id and cr.currency_id\=?
historic_list=select cad_id , announce_date , ex_date , record_date , apply_on_date , to_date(applied_date,'dd-mm-yyyy') as applied_date, ratio_for_shares , ratio_shares_offered , amount , percentage , status , description , cam_id , stock_id , index_id , values , base_date , bc_start_date , bc_end_date , nd_start_date , nd_end_date , applied_time  from corporate_action_diary where stock_id\=? and status\='y' and to_date(applied_date,'dd-mm-yyyy') > to_date(?,'dd-mm-yyyy') union select cad_id , announce_date , ex_date , record_date , apply_on_date , to_date(applied_date,'dd-mm-yyyy') as applied_date, ratio_for_shares , ratio_shares_offered , amount , percentage , status , description , cam_id , stock_id , index_id , values , base_date , bc_start_date , bc_end_date , nd_start_date , nd_end_date , applied_time from  corporate_action_diary where status\='y' and to_date(applied_date,'dd-mm-yyyy') > to_date(?,'dd-mm-yyyy') and index_id in (select index_id from index_composition where stock_id\=?) order by  applied_date desc,applied_time desc 
insert_in_index_master_as_currency=insert into  index_master(index_id ,  index_name ,  creation_date,  is_active ,  base_date ,  base_value,  computation_interval ,  is_captured,  captured_from ,m_start_time,  n_stop_time ,  o_ric ,  is_child ,  parent_id ,  base_currency_id,  index_type_id,  alert_percentage,  rejection_percentage,industry_classification_code,growth_or_value,calculate_settlement_value ,  isin ,  is_customized ,  next_day ,industry_classification_id) select  ?, ? , ?,  is_active ,  base_date ,  ?,  computation_interval , is_captured,  captured_from ,m_start_time,  n_stop_time ,  o_ric ,  is_child ,  ? ,?,  ?,  alert_percentage,  rejection_percentage, industry_classification_code,growth_or_value,calculate_settlement_value ,isin ,is_customized ,  next_day ,industry_classification_id  from  index_master where index_id\=?
get_indexname_currencyid_from_im=select index_name,base_currency_id from index_master where index_id\=?
classCompany_select_*_from_company=select * from company order by upper(company_name)
classCompany_select_class_id=select class_id from class_company where company_id\=?
classCompany_industry_classification_master_list=select class_id,icm.industry_classification_short_name|| '\:' ||level_short_name || ' - ' ||class_name  from  class c, classification_level cl, industry_classification_master icm where c.level_id\=cl.level_id and  cl.industry_classification_id\=icm.industry_classification_id and icm.industry_classification_id \=? order by industry_classification_name,cl.level_id,industry_classification_code 
classCompany_delete=delete from class_company where company_id\=?
classCompany_insert=insert into class_company (class_id,company_id) values(?,?)
get_cname_type=select cad.*,cam.cam_shortname,cam.corporate_action_type from corporate_action_diary cad,corporate_action_master cam where cad_id\=? and cad.cam_id\=cam.cam_id
indCompliance.insert=insert into index_compliance (compliance_id,compliance_name,compliance_short_name,description,mcap_rank,minimum_weight,avg_trading_volume_rank,avg_trading_value_rank,listed_history,floating_stock,stock_type_id,currency_id,ranking_type,mcap_range1,mcap_range2,maximum_weight,avg_traded_volume_range1,avg_traded_value_range1,avg_traded_value_range2,stock_ex_id,country_id,avg_traded_volume_range2,mcap_from_duration,mcap_to_duration,value_from_duration,value_to_duration,volume_from_duration,volume_to_duration,user_id) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
indCompliance.update=update index_compliance set compliance_name\=?,compliance_short_name\=?,description\=?,mcap_rank\=?,minimum_weight\=?,avg_trading_volume_rank\=?,avg_trading_value_rank\=?,listed_history\=?,floating_stock\=?,stock_type_id\=?,currency_id\=?,ranking_type\=?,mcap_range1\=?,mcap_range2\=?,maximum_weight\=?,avg_traded_volume_range1\=?,avg_traded_value_range1\=?,avg_traded_value_range2\=?,stock_ex_id\=?,country_id\=?,avg_traded_volume_range2\=?,mcap_from_duration\=?,mcap_to_duration\=?,value_from_duration\=?,value_to_duration\=?,volume_from_duration\=?,volume_to_duration\=? where compliance_id\=? and user_id\=?

indCompliance.MAX_from_index_compliance_class=select MAX(class_id) from index_compliance_class
indCompliance.MAX_from_index_compliance=select MAX(compliance_id) from index_compliance
index_compliance_class_insert=insert into index_compliance_class ( class_id,compliance_id) values (?,?)
index_compliance_class_delete=delete from index_compliance_class where compliance_id\=?
indCompliance.select_stock_type=select stock_type_id,stock_type_name from stock_type order by stock_type_name
get_iwf_for_stock_weightage=select stock_id,iwf from index_composition  where index_id\=?  
get_price_for_stock_weightage=select stock_id,last from stock_price_daily spd where stock_price_daily_id in (select max(stock_price_daily_id) from \tstock_price_daily spd,index_composition ic where ic.index_id\=? and spd.stock_id\=ic.stock_id and to_date(stock_price_date,'dd-mm-yyyy') in (select max(to_date(stock_price_date,'dd-mm-yyyy')) from stock_price_daily spd,index_composition ic where ic.index_id\=? and spd.stock_id\=ic.stock_id and to_date(stock_price_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') group by ic.stock_id) group by ic.stock_id)
get_detail_for_stock_weightage=select smh.stock_id,tis,stock_currency_id,market_lot,stock_name,currency_name,spd.stock_price_date from stock_master_history  smh,index_composition ic,currencies c,Stock_price_daily spd where index_id\=? and ic.stock_id\=smh.stock_id and ic.stock_id\=spd.stock_id and c.currency_id\=smh.stock_currency_id and stock_mh_id in (select max(stock_mh_id) from stock_master_history where to_date(history_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') and stock_id in (select stock_id from index_composition where index_id\=?) group by stock_id)
get_stockexchange_id_for_stockid=select stock_exchange_id from stock_master where stock_id\=?
historic_list_index=select cad_id , announce_date , ex_date , record_date , apply_on_date , to_date(applied_date,'dd-mm-yyyy') as applied_date, ratio_for_shares ,ratio_shares_offered , amount , percentage , status , description , cam_id , stock_id , index_id , values , base_date , bc_start_date , bc_end_date , nd_start_date , nd_end_date , applied_time  from corporate_action_diary where index_id\=? and status\='y' and to_date(applied_date,'dd-mm-yyyy') > to_date(?,'dd-mm-yyyy') union select cad_id , announce_date , ex_date , record_date , apply_on_date , to_date(applied_date,'dd-mm-yyyy') as applied_date, ratio_for_shares , ratio_shares_offered , amount , percentage , status ,description , cam_id , stock_id , index_id , values , base_date , bc_start_date , bc_end_date , nd_start_date , nd_end_date , applied_time from  corporate_action_diary where status\='y' and to_date(applied_date,'dd-mm-yyyy') > to_date(?,'dd-mm-yyyy') and stock_id in (select stock_id from index_composition where index_id\=?) union select cad_id , announce_date , ex_date , record_date , apply_on_date , to_date(applied_date,'dd-mm-yyyy') as applied_date, ratio_for_shares ,ratio_shares_offered , amount , percentage , status , description , cam_id , stock_id , index_id , values , base_date , bc_start_date ,bc_end_date , nd_start_date , nd_end_date , applied_time  from corporate_action_diary where stock_id\=? and status\='y' and to_date(applied_date,'dd-mm-yyyy') > to_date(?,'dd-mm-yyyy') order by  applied_date desc,applied_time desc    
historic_list_index1=select cad_id , announce_date , ex_date , record_date , apply_on_date , to_date(applied_date,'dd-mm-yyyy') as applied_date, ratio_for_shares ,ratio_shares_offered , amount , percentage , status , description , cam_id , stock_id , index_id , values , base_date , bc_start_date , bc_end_date , nd_start_date , nd_end_date , applied_time  from corporate_action_diary where index_id\=? and status\='y' and to_date(applied_date,'dd-mm-yyyy') > to_date(?,'dd-mm-yyyy') union select cad_id , announce_date , ex_date , record_date , apply_on_date , to_date(applied_date,'dd-mm-yyyy') as applied_date, ratio_for_shares , ratio_shares_offered , amount , percentage , status ,description , cam_id , stock_id , index_id , values , base_date , bc_start_date , bc_end_date , nd_start_date , nd_end_date , applied_time from  corporate_action_diary where status\='y' and to_date(applied_date,'dd-mm-yyyy') > to_date(?,'dd-mm-yyyy') and stock_id in (select stock_id from index_composition where index_id\=?) order by applied_date desc,applied_time desc     
select_undo_list_index=select * from corporate_action_diary where cad_id\!\=?  and index_id\=? and status\='y' and to_date(applied_date,'dd-mm-yyyy') >\= to_date(?,'dd-mm-yyyy') and applied_time >\=? order by to_date(applied_date,'dd-mm-yyyy') desc
check_ind_exist_stock=select * from corporate_action_diary where cad_id\!\=? and status\='y' and to_date(applied_date,'dd-mm-yyyy') >\= to_date(?,'dd-mm-yyyy') and applied_time>\=? and stock_id in (select stock_id from index_composition where index_id\=?) order by to_date(applied_date,'dd-mm-yyyy') desc 
get_stock_type_list=select stock_type_id,stock_type_name from stock_type order by upper(stock_type_name)
get_stock_type_desc=select stock_type_name,stock_type_id from stock_type where stock_type_id \= ?
insert_stock_type=insert into stock_type(stock_type_id,stock_type_name) values(?,?)
check_stock_type=Select stock_type_name,stock_type_id from stock_type where upper(stock_type_name) \= upper(?)
update_stock_type=update stock_type set stock_type_name \= ? where stock_type_id \= ?
update_stmas_history=update stock_master_history set tis\=?,face_value\=? where cad_id\=?
update_indcomp_history=update index_composition_history set mcv\=? where index_id\=? and stock_id\=? and cad_id\=?
check_ind_historic=select index_id,stock_id,iwf,inclusion_date from index_composition where index_id\=? and stock_id\=? and to_date(inclusion_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') union (select index_id,stock_id,iwf,inclusion_date from index_composition_history where to_date(inclusion_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') and cad_id in (select cad_id from corporate_action_diary where index_id\=? and stock_id\=? and status\='y' and to_date(applied_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and cam_id in (select cam_id from corporate_action_master where cam_shortname\='delete stock')))
get_exchange_holidays=select stock_ex_holiday_date,stock_ex_id from stock_exchange_holidays where to_date(stock_ex_holiday_date,'dd-MM-yyyy')>\= to_date(?,'dd-MM-yyyy') and to_date(stock_ex_holiday_date,'dd-MM-yyyy')<\= to_date(?,'dd-MM-yyyy') and stock_ex_id in (select distinct stock_exchange_id from stock_master where stock_id in (select stock_id from index_composition where index_id\=?))
get_undo_close_value=select * from stock_price_daily where stock_id\=? and to_date(stock_price_date,'dd-mm-yyyy') <\=to_date(?,'dd-mm-yyyy') order by to_date(stock_price_date,'dd-mm-yyyy') desc LIMIT 1
get_undo_index_close=select index_value_daily_id,index_value_date,adjusted_tmcv as tmcv,adjusted_divisor as divisor,index_closing_value from  index_value_daily  where index_id\=? and to_date(index_value_date,'dd-mm-yyyy') <\= to_date(?,'dd-mm-yyyy') order by to_date(index_value_date,'dd-mm-yyyy') desc LIMIT 1
update_undo_stock_price=update  stock_price_daily set adjusted_price\=?,mcv\=? where stock_price_daily_id\=?
update_undo_ind_close=update index_value_daily set adjusted_divisor\=?,adjusted_tmcv\=? where index_value_daily_id\=?
resp_exrate_dateval=select * from exchange_rate_daily where from_to_currency_id\=? and to_date(ex_rate_date,'dd-mm-yyyy')\=to_date(?,'dd-mm-yyyy')
resp_undo_curr_val=select * from exchange_rate_daily where from_to_currency_id\=? and to_date(ex_rate_date,'dd-mm-yyyy') <\=to_date(?,'dd-mm-yyyy') order by ex_rate_date desc LIMIT 1
get_base_date_for_index=select base_date from index_master where index_id\=?
check_hist_add_del=select * from corporate_action_diary where index_id\=? and stock_id\=? and status\='y' and to_date(applied_date,'dd-mm-yyyy') > to_date(?,'dd-mm-yyyy') and cam_id in (select cam_id from corporate_action_master where cam_shortname\=?) order by to_date(applied_date,'dd-mm-yyyy') asc LIMIT 1
check_hist_iwf=select cam.cam_shortname from corporate_action_diary cad,corporate_action_master cam where index_id\=? and stock_id\=? and status\='y' and to_date(applied_date,'dd-mm-yyyy') > to_date(?,'dd-mm-yyyy') and cad.cam_id\=cam.cam_id order by to_date(applied_date,'dd-mm-yyyy') asc,applied_time asc LIMIT 1
get_maxdate_for_which_prices_exist=select  max(to_date(stock_price_date,'dd-mm-yyyy')) from stock_price_daily where stock_id in(select stock_id from stock_master where stock_exchange_id\=?)
get_stockid_cad_exist=select distinct stock_id from corporate_action_diary where to_date(applied_date,'dd-mm-yyyy') >\= to_date(?,'dd-mm-yyyy')
get_index_currency_code=select currency_code  from currencies where  currency_id\=?
check_corporate_action_in_index_compute=select cad_id from corporate_action_diary where to_date(applied_date,'dd-MM-yyyy') \=to_date(?,'dd-MM-yyyy') and (index_id\=? or stock_id in (select stock_id from index_composition where index_id\=?)) 
stockDetailFromDate_stock_list_exchange=select stock_id,stock_name from stock_master where stock_exchange_id\=? order by upper(stock_name)

stockDetailFromDate_corporate_action=select cam.cam_name,cad.applied_date from corporate_action_diary cad,corporate_action_master cam where stock_id\=? and applied_date>\=?

stockDetailFromDate_date_stock=select distinct sm.stock_id,sm.stock_name,sic.series,sm.tis,spd.stock_closing_value,spd.stock_price_date,spd.mcv,spd.traded_volume,sm.stock_currency_id from stock_master sm,stock_identifier_codes sic,stock_price_daily spd where  sm.stock_id\=sic.stock_id and sm.stock_id\=spd.stock_id  and sm.stock_id\=? and to_date(spd.stock_price_date,'dd-MM-yyyy') >\= to_date(?,'dd-MM-yyyy')
stockDetailFromDate_stock_list_index=select distinct sm.stock_name,sm.stock_id from stock_master sm,index_composition ic where ic.index_id\=? and sm.stock_id\=ic.stock_id 
stockDetailFromDate_ic=select identifier_code_value from stock_identifier_codes where stock_id\=?
get_stockid_for_nsestock_with_series=select stock_id from stock_identifier_codes where identifier_code_value\=?
check_for_price_on_date=select last from stock_price_daily where stock_price_date\=? and stock_id in (select stock_id from index_composition where index_id\=?)
insert_into_stock_master_unimported=insert into stock_master_unimported values((SELECT NEXTVAL('smu_id')),?,?,?,?,?,?,?,?,?,?,?,?)
insert_into_stock_prices_unimported=insert into stock_prices_unimported values((SELECT NEXTVAL('spu_id')),?,?,?,?,?,?,?,?,?,?,?,?,?,?)
get_index_currency=select base_currency_id from index_master where index_id\=?
indexMovement1=select std.stock_price_date,ind.index_closing_value,ind.tmcv, ind.divisor, feps.eps,feps.bookvalue,div.dividend from (select sum(traded_volume) as share_traded ,stock_price_date,sum(traded_volume*stock_closing_value) as turn_over from stock_price_daily spd,index_composition ic where ic.index_id\=? and ic.stock_id\=spd.stock_id and to_date (stock_price_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and to_date(stock_price_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') group by  stock_price_date order by to_date(stock_price_date,'dd-mm-yyyy')) std left outer join (select sum(amount) as dividend,cad.applied_date from corporate_action_diary cad,corporate_action_master cam,index_composition ic where ic.index_id\=? and lower(cam.cam_name) like '%cash dividend' and to_date(applied_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and to_date(applied_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') and cad.cam_id\=cam.cam_id  and ic.stock_id\=cad.stock_id group by  cad.applied_date  order by  to_date(applied_date,'dd-mm-yyyy') ) div on (div.applied_date\=std.stock_price_date) left outer join (select index_value_date,index_closing_value,tmcv,divisor,index_id  from index_value_daily where index_id\=? and to_date(index_value_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and to_date(index_value_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') order by to_date(index_value_date,'dd-mm-yyyy') )ind on (std.stock_price_date\=ind.index_value_date) left outer join (select sum(basic_eps) as eps,sum(book_value) as bookvalue,from_date  from financial_detail where to_date(from_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and to_date(to_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') and company_id in (select company_id from stock_master where stock_id in (select stock_id from index_composition where index_id\=?))group by   from_date) feps on (std.stock_price_date\=feps.from_date) order by to_date(std.stock_price_date,'dd-mm-yyyy')
moving_index_value1=select index_value_date,index_closing_value,tmcv,divisor from  index_value_daily where index_id\=? and to_date(index_value_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and to_date(index_value_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') order by to_date(index_value_date,'dd-mm-yyyy') desc
Historic_compo_parent=select * from index_composition where index_id\=? and to_date(inclusion_date,'dd-mm-yyyy') <\= to_date(?,'dd-mm-yyyy')

market_status_index_gain_ltp=select sm.stock_name,crnt.cprice,cast(((crnt.cprice-lst.lprice)/lst.lprice)*100 as numeric(10,2)) as percentage  from \tstock_master sm,(select spd.last as cprice ,spd.stock_id ,stock_price_date as price_date from  \tstock_price_daily spd \twhere  \tstock_price_date\=?) crnt,  (select spd.adjusted_price as lprice ,spd.stock_id \tfrom stock_price_daily spd where  stock_price_date\=? ) lst  where \tsm.is_active\='y' and sm.stock_id in(select stock_id from index_composition where index_id\=?) and crnt.cprice-lst.lprice>0 and  \tlst.stock_id\=crnt.stock_id and \tlst.stock_id\=sm.stock_id  order by percentage desc limit ?
Hist_currind_list=select cad_id , announce_date , ex_date , record_date , apply_on_date , to_date(applied_date,'dd-mm-yyyy') as applied_date, ratio_for_shares ,ratio_shares_offered , amount , percentage , status , description , cam_id , stock_id , index_id , values , base_date , bc_start_date , bc_end_date , nd_start_date , nd_end_date , applied_time from corporate_action_diary where index_id\=? and status\='y' and to_date(applied_date,'dd-mm-yyyy') > to_date(?,'dd-mm-yyyy')  
undo_curr_ind_cad=update corporate_action_diary set apply_on_date\=?,applied_date\=?,status\=?,applied_time\=? where cad_id\=?  
market_status_index_loss_ltp=select sm.stock_name,crnt.cprice,to_number(((crnt.cprice-lst.lprice)/lst.lprice)*100,'9999d99') as percentage  from  stock_master sm,  (select spd.last as cprice ,spd.stock_id ,stock_price_date as price_date from \tstock_price_daily spd \twhere  \tstock_price_date\=?\t) crnt,  (select spd.adjusted_price as lprice ,spd.stock_id from  stock_price_daily spd where  \tstock_price_date\=?) lst  where sm.is_active\='y' and sm.stock_id in(select stock_id from index_composition where index_id\=?) and crnt.cprice-lst.lprice<0 and  lst.stock_id\=crnt.stock_id and lst.stock_id\=sm.stock_id  \torder by percentage   limit ?

market_status_ex_gain_ltp=select sm.stock_name,crnt.cprice,cast(((crnt.cprice-lst.lprice)/lst.lprice)*100 as numeric(10,2)) as percentage  from \tstock_master sm,(select spd.last as cprice ,spd.stock_id ,stock_price_date as price_date from  \tstock_price_daily spd \twhere  \tstock_price_date\=?) crnt,  (select spd.adjusted_price as lprice ,spd.stock_id \tfrom stock_price_daily spd where  stock_price_date\=?) lst  where \tsm.is_active\='y' and  sm.stock_exchange_id\=? and crnt.cprice-lst.lprice>0 and  \tlst.stock_id\=crnt.stock_id and \tlst.stock_id\=sm.stock_id  order by percentage desc limit ?
market_status_index_gain_traded=select \tsm.stock_name,crnt.traded_volume as crntt,cast(((crnt.traded_volume-lst.traded_volume)/lst.traded_volume)*100 as numeric(10,2)) as percentage from  stock_master sm,\t(select traded_volume,stock_id from  stock_price_daily \twhere stock_price_date\=?) lst,(select traded_volume,stock_id from  stock_price_daily \twhere stock_price_date\=?) crnt where sm.is_active\='y' \tand sm.stock_id\=lst.stock_id and  sm.stock_id in(select stock_id from index_composition where index_id\=?) and\tlst.stock_id\=crnt.stock_id and \tcrnt.traded_volume-lst.traded_volume>0 order by ((crnt.traded_volume-lst.traded_volume)/lst.traded_volume)*100 desc limit ?
market_status_index_loss_traded=select sm.stock_name,crnt.traded_volume as crntt,cast(((crnt.traded_volume-lst.traded_volume)/lst.traded_volume)*100 as numeric(10,2)) as percentage from  stock_master sm,(select traded_volume,stock_id from  stock_price_daily where stock_price_date\=?) lst,(select traded_volume,stock_id from  stock_price_daily where stock_price_date\=?) crnt where sm.is_active\='y'  and sm.stock_id in(select stock_id from index_composition where index_id\=?)  and sm.stock_id\=lst.stock_id and  lst.stock_id\=crnt.stock_id and crnt.traded_volume-lst.traded_volume<0 order by ((crnt.traded_volume-lst.traded_volume)/lst.traded_volume)*100  limit ?
market_status_ex_loss_ltp=select \tsm.stock_name,crnt.cprice,to_number(((crnt.cprice-lst.lprice)/lst.lprice)*100,'9999d99') as percentage  from  stock_master sm,  (select spd.last as cprice ,spd.stock_id ,stock_price_date as price_date from \tstock_price_daily spd \twhere  \tstock_price_date\=?) crnt,  (select spd.adjusted_price as lprice ,spd.stock_id from  stock_price_daily spd where  \tstock_price_date\=?) lst  where sm.is_active\='y' and sm.stock_exchange_id\=? and crnt.cprice-lst.lprice<0 and  lst.stock_id\=crnt.stock_id and lst.stock_id\=sm.stock_id  \torder by percentage   limit ?
market_status_ex_gain_traded=select \tsm.stock_name,crnt.traded_volume as crntt,cast(((crnt.traded_volume-lst.traded_volume)/lst.traded_volume)*100 as numeric(10,2)) as percentage from  stock_master sm,\t(select traded_volume,stock_id from  stock_price_daily \twhere stock_price_date\=?) lst,(select traded_volume,stock_id from  stock_price_daily \twhere stock_price_date\=?) crnt where sm.is_active\='y' \tand sm.stock_id\=lst.stock_id and  sm.stock_exchange_id\=? and\tlst.stock_id\=crnt.stock_id and \tcrnt.traded_volume-lst.traded_volume>0 order by ((crnt.traded_volume-lst.traded_volume)/lst.traded_volume)*100 desc limit ?

get_stock_detail_for_ticker_code=select stock_id,series from stock_identifier_codes where  identifier_code_value\=? and identifier_code_id in  (select identifier_code_id from identifier_codes where identifier_code_name\='TICKER') 
market_status_ex_loss_traded=select sm.stock_name,crnt.traded_volume as crntt,cast(((crnt.traded_volume-lst.traded_volume)/lst.traded_volume)*100 as numeric(10,2)) as percentage from  stock_master sm,(select traded_volume,stock_id from  stock_price_daily where stock_price_date\=?) lst,(select traded_volume,stock_id from  stock_price_daily where stock_price_date\=?) crnt where sm.is_active\='y'  and sm.stock_exchange_id\=?  and sm.stock_id\=lst.stock_id and  lst.stock_id\=crnt.stock_id and crnt.traded_volume-lst.traded_volume<0 order by ((crnt.traded_volume-lst.traded_volume)/lst.traded_volume)*100  limit ?
delete_indmas_history=delete from index_master_history where cad_id\=?
update_series_for_stock=update stock_identifier_codes set series\=?,identifier_code_value\=? where stock_id\=?
insert_into_stock_price_daily_index_detail_file=insert into  stock_price_daily (stock_price_daily_id,stock_opening_value,stock_highest_value,stock_lowest_value,stock_closing_value,stock_id,traded_volume,stock_price_date,adjusted_price,mcv,last,no_of_trades,pe,pb,dividend_yield,net_turn_over) values((select nextval('stock_price_daily_id')),?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
get_tis_stockid_Ticker_wise=select identifier_code_value,sm.tis,sm.stock_id from  stock_master sm, stock_identifier_codes sic where sm.is_active\='y' and sm.stock_id\=sic.stock_id and sm.stock_exchange_id\=? and sic.identifier_code_id\=(select identifier_code_id from identifier_codes where identifier_code_name\='TICKER') order by identifier_code_value
insert_into_new_issues_unimported_prices=insert into new_issues (SE_ID,price_date,sc_code,scrip_name,day_close,day_open,day_high,day_low,no_of_trades) values(?,?,?,?,?,?,?,?,?)
importFile.check_stock_prices_on_date=select * from stock_price_daily where stock_id in (select stock_id from stock_master where stock_exchange_id\=?) and stock_price_date\=?
indexCompute_select_divisor_before_base_date=select adjusted_divisor from  index_value_daily  where  index_id\=?  and to_date(index_value_date,'dd-mm-yyyy')\=to_date((select base_date from index_master where index_id\=?),'dd-mm-yyyy')
index_compute_compute_currency_index_tmcv_divisor1=select * from index_value_daily where index_id\=? and to_date(index_value_date,'dd-mm-yyyy') \= to_date((select base_date from index_master where index_id \=? ),'dd-MM-yyyy')
import_file_sequence_findetail_id=SELECT nextval('findetail_id')
importFile.get_symbol_exchangewise=select sic.identifier_code_value,sic.series from stock_identifier_codes sic,stock_exchange_master sem where sem.stock_ex_id\=? and sic.identifier_code_id\=sem.identifier_code_id
update_stock_active=update stock_master set is_active\=?,tis\=? where stock_id\=?
insert_into_merger=insert into merger values((SELECT NEXTVAL('merger_id')),?,?,?)
check_stock_status=select cad.applied_date from merger m,corporate_action_diary cad where m.stock_id\=? and cad.cad_id\=m.cad_id
importFile_get_company_id_eps_file=select company_id from company where company_name\=trim(?)
importFile_get_fdetail_id=select fdetail_id from financial_detail where ((to_date(?,'dd-MM-yyyy') between from_date and to_date) OR (to_date(?,'dd-MM-yyyy') between from_date and to_date) Or (to_date(from_date,'dd-MM-yyyy') between to_date(?,'dd-MM-yyyy') and to_date(?,'dd-MM-yyyy')) Or (to_date between to_date(?,'dd-MM-yyyy') and to_date(?,'dd-MM-yyyy'))) and company_id\=?
importFile_update_into_financial_detail=update financial_detail set pat\=?,net_worth\=?,interest\=?,provision_for_taxation\=?,paid_up_equity_share_capital\=?,debt\=?,net_sales\=?,dividend\=? where fdetail_id\=? and company_id\=? and adjusted\=?
get_sequence_cad_id=SELECT NEXTVAL('cad_id')
get_sequence_cad_id_new=SELECT MAX(cad_id) from corporate_action_diary
get_sequence_stock_mh_id=SELECT NEXTVAL('stock_mh_id')
get_sequence_stock_id=SELECT NEXTVAL('stock_id')
get_max_stock_id=select max(stock_id)  from stock_master
get_stock_adr_gdr_id=select nextval('stock_adr_gdr_id')
get_stock_identifier_code_id=select nextval('stock_identifier_code_id')
get_sequence_stock_type_id=SELECT nextval('stock_type_id')
get_sequence_rating_code_id=SELECT nextval('rating_code_id')
importPrice_get_pe_pb_dividend_quartely=select net_profit_loss,dividend,company_id,net_worth,from_date,to_date from financial_detail where to_date(from_date,'dd-MM-yyyy') >\= to_date('27-01-2003','dd-MM-yyyy') and company_id in (select company_id from stock_master where stock_id\=?) order by company_id
index_compute_insert_into_index_value_daily_pe_pb=INSERT INTO index_value_daily ( index_value_daily_id, index_opening_value, index_highest_value,  index_lowest_value,index_closing_value, index_id, index_value_date, divisor, tmcv,adjusted_tmcv,adjusted_divisor ,pe,pb,dividend_yield,fwh,fwl ) VALUES ((select nextval('index_value_daily_id')),?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
insert_into_financial_detail_adjusted_values=insert into financial_detail (fdetail_id,company_id,net_profit_loss,dividend,from_date,to_date,is_consolidated,net_worth,adjusted) values((SELECT nextval('findetail_id')),(select company_id from stock_master where stock_id\=?),?,?,?,?,'No',?,'y')
index_compute_pe_pb_dividend_index_wise=select SUM(av.pe),SUM(av.pb),SUM(av.dividend) from (select avg(pe) as pe,0 as pb,0 as dividend from stock_price_daily where stock_id in (Select stock_id from index_composition where index_id\=?) and to_date(stock_price_date,'dd-MM-yyyy')\=to_date(?,'dd-MM-yyyy') and pe>0 UNION select 0 as pe,avg(pb) as pb,0 as dividend from stock_price_daily where stock_id in (Select stock_id from index_composition where index_id\=?) and to_date(stock_price_date,'dd-MM-yyyy')\=to_date(?,'dd-MM-yyyy') and pb>0 UNION select 0 as pe,0 as pb,avg(dividend_yield) as dividend from stock_price_daily where stock_id in (Select stock_id from index_composition where index_id\=?) and to_date(stock_price_date,'dd-MM-yyyy')\=to_date(?,'dd-MM-yyyy') and dividend_yield>0)av
select_stkprice_historic=select adjusted_price,stock_closing_value,stock_price_daily_id,stock_price_date from stock_price_daily where stock_id\=? and to_date(stock_price_date ,'dd-mm-yyyy') > to_date(?,'dd-mm-yyyy')
undo_merger=select merger_id from merger where cad_id\=?
get_sequence_event_id=SELECT NEXTVAL('event_id')
get_sequence_index_id=SELECT NEXTVAL('index_id')
get_max_index_id=select max(index_id) from index_master
get_sequence_index_stock_id=select nextval('index_stock_id')
get_sequence_intra_day_indices_id=select nextval('intra_day_indices_id')
index_master_get_parent_detail=select * from index_master where parent_id\=?
stockWisePe_Pb_get_stocks=select sm.stock_name,spd.stock_price_date,spd.stock_closing_value,spd.mcv,spd.pe,spd.pb,spd.dividend_yield from stock_master sm,stock_price_daily spd where spd.stock_id\=? and  to_date(spd.stock_price_date,'dd-MM-yyyy') >\= to_date(?,'dd-MM-yyyy') and to_date(spd.stock_price_date,'dd-MM-yyyy') <\= to_date(?,'dd-MM-yyyy') and  sm.stock_id\=spd.stock_id
update_user_detail=update user_details set password\=?  where userid\=? and password\=?
check_for_index_composition=select * from index_composition where index_id\=?
stock_name_for_id=select stock_ex_name from stock_exchange_master where stock_ex_id\=?
insert_into_bhavcsv_symbol=insert into bhavcopy_csv(symbol)values(?)
insert_into_bhavcsv=insert into bhav_csv(instrument,symbol,to_date(expr_dt,'dd-Mon-yyyy'),strike_pr,option_typ,open,high,low,close,settle_pr,contracts,val_inlakh,open_int,change_in_ol,to_date(timestamp,'dd-Mon-yyyy')) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
get_stockid_for_nsestock=select stock_id from stock_identifier_codes where identifier_code_value\=?
insert_into_F&O_daily_stock=insert into future_options_daily_stock_prices(fo_daily_stk_id,key,stock_id,instrument,symbol,expr_dt,strike_pr,option_typ ,open,high,low,close,settle_pr,contracts,val_inlakh,open_int,change_in_ol,timestamp) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
insert_into_F&O_new_issues_stock=insert into future_options_stock_prices_new_issues(fo_new_issue_stk_id,key,instrument,symbol,expr_dt,strike_pr,option_typ ,open,high,low,close,settle_pr,contracts,val_inlakh,open_int,change_in_ol,timestamp) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
insert_into_F&O_daily_index=insert into future_options_daily_index_prices(fo_daily_indx_id,key,index_id,instrument,symbol,expr_dt,strike_pr,option_typ ,open,high,low,close,settle_pr,contracts,val_inlakh,open_int,change_in_ol,timestamp) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
insert_into_F&O_new_issues_index=insert into future_options_index_prices_new_issues(fo_new_issue_indx_id,key,instrument,symbol,expr_dt,strike_pr,option_typ ,open,high,low,close,settle_pr,contracts,val_inlakh,open_int,change_in_ol,timestamp) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
get_id_from_future_options_instrument=select id from future_options_instrument where instrument\=?
get_indexid_for_nsestock=select index_id from index_master where index_name\=?
get_distinct_currency_id_for_composition_scrips=select distinct stock_currency_id,base_currency_id from stock_master s,index_master i,index_composition isc where i.index_id\=? and i.index_id\=isc.index_id and isc.stock_id\=s.stock_id
get_industry_classification_if_from_sys_conf=select industry_classification_id from system_configuration
yyy')\=?
update_daily_indices_open=update index_value_daily set index_opening_value\=?,index_highest_value\=?,index_lowest_value\=?,index_closing_value\=? where index_id\=? and index_value_date\=?
select_indexes_old=Select count(*) from index_value_daily where index_id\=? and  to_date(index_value_date,'dd-mm-ydeleteStockPriceDailyQuery\=delete from stock_price_daily where stock_price_date\=? 
GICS_import_get_scrip_id=select stock_id,stock_exchange_id from stock_master where stock_name\=? and stock_exchange_id\=?
GICS_import_check_for_data_already_exist=select * from class_company where class_id\=? and company_id\=?
GICS_import_insert_into_class_scrip=insert into class_company (class_id,company_id) values(?,?)
GICS_get_ind_class_id=select class_id,class_name from class where level_id\=? and lower(class_name)\=lower(?)
deleteStockPriceDailyQuery=delete from stock_price_daily where stock_price_date\=? and stock_id in (select stock_id from stock_master where stock_exchange_id\=?)
insert_into_stockmasterbonds=insert into stock_master_bonds(stock_id,stock_type_id,company_id,iwf,tis,stock_name,face_value,listing_date,rating_code_id,alert_percentage,rejection_percentage,witholding_tax_percent,market_lot,stock_exchange_id,country_id,is_active,stock_currency_id,is_price_for_lot,paid_value,dirty_price,start_date,maturity_date,coupon_percentage,coupon_period,coupon_payment_dates,interest_rate_daysinmonth,interest_rate_daysinyear,accrued_interest,description,sedol,isin,ric,crisil,cusip,ticker,exchange_code,witholding_tax_applicable,clean_price) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
get_sequence_stock_id_bonds=SELECT NEXTVAL('stock_id_bonds')
get_sequence_stock_id_commodities=SELECT NEXTVAL('stock_id_commodity')
insert_into_stock_master_commodities=insert into stock_master_commodities(stock_id,stock_type_id,iwf,stock_name,listing_date,alert_percentage,rejection_percentage,market_lot,stock_exchange_id,country_id,is_active,stock_currency_id,is_price_for_lot,delisting_date,expiry_date,ex_basis_delivery_center,measure,sedol,isin,ric,crisil,cusip,exchange_code,ticker) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
update_index_value_daily_add_captured_index=update  index_value_daily set index_opening_value\=?,index_highest_value\=?,index_lowest_value\=?,index_closing_value\=?,index_id\=?,index_value_date\=?,tmcv\=?  where index_id\=? and index_value_date\=?
new_issues_exc=select distinct(n.se_id),se.stock_ex_name from new_issues n, stock_exchange_master se where n.se_id\=se.stock_ex_id
select_stk_newissue=select distinct(scrip_name),sc_code from new_issues where se_id\=? order by scrip_name
select_indexes=Select count(*) from index_value_daily where index_id\=? and  index_value_date\=?
select_sc_code_from_new_issues=select sc_code from new_issues where scrip_name\=?
get_newissue_pridetail=select to_date(price_date,'dd-mm-yyyy'),day_close,day_open,day_high,day_low,no_of_shares,no_of_trades,net_turnover from new_issues where upper(sc_code)\=? and se_id\=? order by price_date asc
newissue_detail_se=select distinct sc_code from new_issues where LOWER(scrip_name)\=? and se_id\=?
newissue_detail_cntry=SELECT COUNTRY_NAME,COUNTRY_ID FROM COUNTRIES WHERE COUNTRY_ID IN (SELECT DISTINCT(COUNTRY_ID) FROM NEW_ISSUES WHERE LOWER(scrip_name)\=? AND SE_ID\=? AND COUNTRY_ID IS NOT NULL)
newissue_detail_class=select class_name from class_of_share where  class_id in (select distinct class_id from new_issues where  LOWER(scrip_name)\=? and se_id\=? and class_id is not null)
newissue_detail_curr=select distinct currency_mast_id ,currency_name from currency_master where currency_mast_id in (select distinct curr_id from new_issues where LOWER(scrip_name)\=? and se_id\=? and curr_id is not null)

capIndex_update_high_index_value=update  index_value_daily set index_highest_value\=?,index_closing_value\=?   where index_id\=? and index_value_date\=?
Insert_Bhave_Data=insert into bhavdata (symbol,series,trade_high_price,trade_low_price,opening_price,closing_price,previous_close_price,total_traded_quantity,total_traded_value,carriage_return)values(?,?,?,?,?,?,?,?,?,?)
capIndex_update_low_index_value=update  index_value_daily set index_lowest_value\=?,index_closing_value\=? where index_id\=? and index_value_date\=?
capIndex_get_Index_id=select index_id from index_master where index_name \=?

change_user_password=update users set password\=?  where username\=? and password\=?

Ftp_security_insert=insert into secdata (trancode,timestamp,msglength,token_number,symbol,series,issued_capital,warning_percent,freeze_percent,credit_rating,issue_rate,issue_start_date,issue_pdate,issue_maturity_dat,board_lot_quantity,tick_size,name_of_company,record_date,expiry_date,no_delivery_start_date,no_delivery_end_date,book_closure_start_date,book_closure_end_date)values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
capIndex_update_close_index_value=update  index_value_daily set index_closing_value\=?   where index_id\=? and index_value_date\=?
securityFtp_get_security_token_list=select token_number from secdata
securityFtp_get_security_token_and_triker=select token_number,symbol,series from secdata
scrip_name_from_securitydata=select token_number,name_of_company from secdata
ftpMessage_file_insert=insert into messdata (trancode,timestamp,msglength,message) values(?,?,?,?)
ftpMessage_check_exist=select * from messdata where message\=? and timestamp\=?
update_cimm_data=update financial_data set value\=?,adjusted\='N',month_number\=? where id\=? and company_id\=? and xdate\=? and fromdate\=?
check_if_fd_record_exist_new=select * from financial_data where crsl_code\=?  And xdate\=? And id\=? and month_number\=?
get_company_id_where_exchange_id_symbol_series_new=SELECT identifier_code_value FROM STOCK_IDENTIFIER_CODES WHERE IDENTIFIER_CODE_ID\=(SELECT IDENTIFIER_CODE_ID FROM identifier_codes where identifier_code_name\='CRISIL') AND STOCK_ID\= (SELECT STOCK_ID FROM STOCK_MASTER WHERE STOCK_NAME\='') 
get_month_diff=SELECT age(?,?)
importFile_get_fdetail_id_new=select * from financial_data where id\=? And company_id\=? And fromdate\=? And xdate\=? 
select_TIS_for_SockId=select tis from stock_master where stock_id\=?
check_if_fd_record_exist=select * from financial_data where company_id\=?  and xdate\=? And id\=? and month_number\=?
insert_into_financial_detail=insert into financial_data(id,xdate,company_id,month_number,value,fromdate,adjusted,idate) values(?,?,?,?,?,?,'N',to_char(current_date,'dd-MON-YYYY'))
insert_into_stock_price_daily=insert into  stock_price_daily (stock_price_daily_id,stock_opening_value,stock_highest_value,stock_lowest_value,stock_closing_value,stock_id,traded_volume,stock_price_date,adjusted_price,mcv,last,adjusted_mcap) values((select nextval('stock_price_daily_id')),?,?,?,?,?,?,?,?,?,?,?)
select_report_collection=select activity_id,report_name from preferencedetail 
check_data_exist_in_new_issues=select * from new_issues where se_id\=? and price_date\=?  and sc_code\=?
update_new_issues=update new_issues set scrip_name\=?,day_close\=?,day_open\=?,day_high\=?,day_low\=?,no_of_trades\=?,net_turnover\=?,no_of_shares\=? where se_id\=? and price_date\=? and sc_code\=?
insert_into_new_issues_unimported_prices1=insert into new_issues (SE_ID,price_date,sc_code,scrip_name,day_close,day_open,day_high,day_low,no_of_trades,net_turnover,no_of_shares) values(?,?,?,?,?,?,?,?,?,?,?)
select_prefrence_collection=select preference_id,preference_name from report_prefrence
Insert_Prfrential_data=insert into preferencedetail(preference_id,report_name,exchange_id,index_id1,index_id2,stock_id1,stock_id2,days_difference) values(?,?,?,?,?,?,?,?)
Check_for_duplicat_entry=Select count(*) from preferencedetail where preference_id\=? and report_name\=?
select_*_from_report_prefrence=select * from report_prefrence
select_*_from_preferencedetail1=select * from preferencedetail where preference_id\=? order by upper(report_name)
select_stock_ex_name_from_stockmaster=select stock_ex_name from stock_exchange_master where stock_ex_id\=?
select_stock_name_from_stock_master=select stock_name from stock_master where stock_id\=?
select_from_preferencedetail=select * from preferencedetail where preference_id\=? and report_name\=?
update_prefrential_parameter=update preferencedetail set exchange_id\=?,index_id1\=?,index_id2\=?,stock_id1\=?,stock_id2\=?,days_difference\=? where preference_id\=? and report_name\=?
get_preference_list=select preference_id,preference_name from report_prefrence order by upper(preference_name)
get_prefer_name_id=select preference_name from report_prefrence  where preference_id\= ?
select_max_prefer_id=select MAX(preference_id) from report_prefrence
insert_new_prefername=insert into report_prefrence values(?,?)
update_new_prefername=update report_prefrence set preference_name\= ? where preference_id\= ? 
check_preference_name=Select preference_name from report_prefrence where upper(preference_name) \= upper(?)
get_indexcomp_id=select index_id1 from preferencedetail where preference_id\=? and upper(report_name)\= upper(?)
get_indexpepb_id=select index_id1,days_difference from preferencedetail where preference_id\=? and upper(report_name)\= upper(?);
get_indexdiv_id=select index_id1,days_difference from preferencedetail where preference_id\=? and upper(report_name)\= upper(?);
select_*_from_preferencedetail12=select * from preferencedetail where preference_id\=? and report_name\=?
Selectcimmimpottype=select id,financial_desc from  financial_import_types order by(id)
get_max_cimm_xdate_for_pat=select to_date(xdate,'dd-mm-yyyy')  from financial_data where id in (select id from financial_import_types where financial_desc\='Profit After Tax') and company_id in(select company_id from stock_master where stock_id\=?) and to_date(xdate,'dd-mm-yyyy') <\= to_date(?,'dd-mm-yyyy')
select_from_cimm_data_where_date3Month=select *  from financial_data  where company_id in(select company_id from stock_master where stock_id\=?) and id in(select id from financial_import_types where financial_desc\='Profit After Tax') and month_number\=3 and xdate\=add_months(?,?) and fromdate\=add_months(?,?)+1
select_from_cimm_data_where_date=select * from financial_data  where company_id in(select company_id from stock_master where stock_id\=?) and id in(select id from financial_import_types where financial_desc\='Profit After Tax') and month_number\=6 and xdate\=add_months(?,?) and fromdate\=add_months(?,?)+1
select_count_from_cimm_data=select count(*) from financial_data where company_id in(select company_id from stock_master where stock_id\=?) and id in(select id from financial_import_types where financial_desc\='Profit After Tax') and month_number\=3 and xdate>add_months(?,-12)
select_from_cimm_data_where_date12Month=select *  from financial_data  where company_id in(select company_id from stock_master where stock_id\=?) and id in(select id from financial_import_types where financial_desc\='Profit After Tax')  and month_number\=12 and xdate <\= add_months(?,?)and fromdate >\= add_months(?,?) + 1 order by xdate desc
select_from_cimm_data_where_date19Month=select *  from financial_data  where company_id in(select company_id from stock_master where stock_id\=?) and id in(select id from financial_import_types where financial_desc\='Profit After Tax')  and month_number >? and xdate <\= add_months(?,?) order by xdate desc,month_number desc
select_from_cimm_data_where_date19Month1=select *  from financial_data  where company_id in(select company_id from stock_master where stock_id\=?) and id in(select id from financial_import_types where financial_desc\='Profit After Tax')  and month_number >? and xdate \= add_months(?,?) order by xdate desc,month_number desc 
select_from_cimm_data_where_dateyear=select *  from financial_data  where company_id in(select company_id from stock_master where stock_id\=?) and id in(select id from financial_import_types where financial_desc\='Profit After Tax') and month_number\=? and xdate <\= add_months(?,?) and fromdate >\= add_months(?,?) + 1 order by xdate desc
select_stocks_where_exchange_id_is_given=select stock_id,stock_name from stock_master where stock_exchange_id\=?
select_*_Company=select company_id,company_name from company
getFDetailIdQuery=select count(*) from financial_data where id\=? and xdate\=? and company_id\=? and month_number\=?
updaye_cimm_data=update financial_data set id\=?,xdate\=?,company_id\=?,month_number\=?,value\=?,adjusted\=?,idate\=? where id\=? and xdate\=? and company_id\=? and month_number\=?
insert_into_cimm_data=insert into financial_data(id,xdate,company_id,month_number,value,adjusted,idate)values(?,?,?,?,?,?,to_char(current_date,'dd-MON-YYYY'))
get_column_name_for_selected_tables=SELECT relname||'.'||attname FROM pg_attribute, pg_class WHERE pg_class.oid \= attrelid     AND attnum>0 AND relname in (XYZ) order by relname;

select_data_financial=select *  from financial_data  where company_id in(select company_id from stock_master where stock_id\=?) and id in(select id from financial_import_types where financial_desc\='Profit After Tax')  order by to_date(xdate,'dd-mm-yyyy') desc limit 8
get_all_table_names=select c.relname FROM pg_catalog.pg_class c LEFT JOIN pg_catalog.pg_namespace n ON n.oid \= c.relnamespace WHERE c.relkind IN ('r','') AND n.nspname NOT IN ('pg_catalog', 'pg_toast') AND pg_catalog.pg_table_is_visible(c.oid) order by c.relname
select_more_financial=select value from financial_data where company_id in(select company_id from stock_master where stock_id\=?) and xdate\=? and month_number\=? and id\=?
select_mcv_from_stock_master=select mcv from stock_price_daily where stock_id\=? and stock_price_date\=?
insert_into_finance_details=Insert into financial_detail(fdetail_id,company_id,net_sales,other_income,gross_income,increase_decrease_in_stock,consumption_of_raw_materials,staff_cost,other_expenditure,total_expenditure,interest,profit_loss_before_depreciation_taxes,depreciation,profit_loss_before_tax,provision_for_taxation,other_provisions,net_profit_loss,non_recurring_income,non_recurring_expenses,paid_up_equity_share_capital,reserves_excluding_revaluation_reserves,dividend,basic_eps,from_date,to_date,is_audited,is_cumulative,is_consolidated,book_value,pat,net_worth,debt,no_of_month,no_of_share,percent_of_shareholding,unit,currency_id) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
finance_id_max=select MAX(fdetail_id) from financial_detail
select_financial_information=select fd.xdate,month_number,max(case\twhen fd.id in (select id from financial_import_types where financial_desc like 'Profit After%')  then value else 0 end) AS "Profit After Tax",max(case when fd.id in (select id from financial_import_types where financial_desc like '%Net Worth%') then value else 0 end) AS "Net Worth",max(case\twhen fd.id in (select id from financial_import_types where financial_desc like '%Dividend%') then value else 0 end) AS "Dividend",max(case\twhen fd.id in (select id from financial_import_types where financial_desc like '%Interest%') then value else 0 end) AS "Interest",max(case\twhen fd.id in (select id from financial_import_types where financial_desc like 'Tax%')then value else 0 end) AS "Tax",max(case when fd.id in (select id from financial_import_types where financial_desc like '%Paid Up Capital%') then value else 0 end) AS "Paid Up Capital",max(case\twhen fd.id in (select id from financial_import_types where financial_desc like '%Total Debt%') then value else 0 end) AS "Total Debt",max(case\twhen fd.id in (select id from financial_import_types where financial_desc like '%Sales%')then value else 0 end) AS "Sales" from financial_data fd,financial_import_types fi where company_id in(select company_id from stock_master where stock_id\=?)and fi.id \= fd.id group by fd.xdate,month_number order by to_date(xdate,'dd-mm-yyyy') desc

index_divisor=select ivd.index_value_date,ivd.index_closing_value,ivd.adjusted_tmcv,ivd.adjusted_divisor  from  index_value_daily ivd where ivd.index_id\=? and to_date (index_value_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy')and to_date(index_value_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy')
pb_value_get_calculated=SELECT * FROM financial_data WHERE id\=2 and company_id IN (SELECT company_id FROM stock_master WHERE stock_id\=? AND stock_exchange_id\=?)ORDER BY to_date(xdate,'DD-MM-YYYY') DESC,month_number DESC
delete_from_prefrence=delete from report_prefrence where preference_id\= ? 
delete_report=delete from preferencedetail where preference_id\=? and report_name\=?
Select_from_prefrenctial_detail=select index_id1 from preferencedetail where preference_id\=? and report_name\=?
select_sectorwise_index=select class_name,sum(ic.mcv),cast(sum((ic.mcv/idsp1.tmcv)*100) as numeric(30,6)) from index_composition ic left outer join(select sum(ic.mcv) as tmcv,ic.index_id from stock_master sm,index_composition ic,intra_day_stock_prices idsp where ic.index_id\=? and ic.stock_id\=sm.stock_id and sm.stock_id\=idsp.stock_id and intra_day_stock_price_id in (select max(intra_day_stock_price_id)from intra_day_stock_prices group by stock_id) group by index_id) idsp1 on (ic.index_id\=idsp1.index_id), company c, class_company cc,class cls, stock_master sm left outer join (select (ic.mcv) as mcv,sm.stock_id from stock_master sm,index_composition ic,intra_day_stock_prices idsp where ic.index_id\=? and ic.stock_id\=sm.stock_id and sm.stock_id\=idsp.stock_id and intra_day_stock_price_id in (select max(intra_day_stock_price_id) from intra_day_stock_prices group by stock_id))idsp on (sm.stock_id\=idsp.stock_id) where ic.index_id\=? and ic.stock_id\=sm.stock_id and sm.company_id\=c.company_id and c.company_id\=cc.company_id and cc.class_id\=cls.class_id and (cls.level_id\=1 ) group by cls.level_id\=1,class_name
select_sector_contri_to_change_in_index=select cls.class_name,sum(to_number((((s1.mcv-s2.mcv)/(i1.adjusted_tmcv-i2.adjusted_tmcv))*100),'9999999999999999999999999999999999999999d99')) as weightage from (select adjusted_tmcv,index_id from index_value_daily where index_id\=? and to_date(index_value_date,'dd-mm-yyyy')\= (select max(to_date(index_value_date,'dd-mm-yyyy')) from index_value_daily ivd where index_id\=? and to_date(index_value_date,'dd-mm-yyyy') <\= to_date(?,'dd-mm-yyyy') )) i1 , (select adjusted_tmcv,index_id from index_value_daily where index_id\=? and to_date(index_value_date,'dd-mm-yyyy')\= (select max(to_date(index_value_date,'dd-mm-yyyy')) from index_value_daily ivd where index_id\=? and to_date(index_value_date,'dd-mm-yyyy') >\= to_date(?,'dd-mm-yyyy') )) i2 , (select spd.mcv,spd.stock_id,ic.index_id,spd.stock_price_date from stock_price_daily spd, index_composition ic where ic.index_id\=? and to_date(spd.stock_price_date,'dd-mm-yyyy')\= (select max(to_date(stock_price_date,'dd-mm-yyyy')) from stock_price_daily where to_date(stock_price_date,'dd-mm-yyyy') <\= to_date(?,'dd-mm-yyyy')) and ic.stock_id\=spd.stock_id) s1, (select spd.mcv,spd.stock_id,ic.index_id,spd.stock_price_date from stock_price_daily spd, index_composition ic where ic.index_id\=? and to_date(spd.stock_price_date,'dd-mm-yyyy')\= (select max(to_date(stock_price_date,'dd-mm-yyyy')) from stock_price_daily where to_date(stock_price_date,'dd-mm-yyyy') >\= to_date(?,'dd-mm-yyyy')) and ic.stock_id\=spd.stock_id) s2 , stock_master sm ,class_company cc, class cls,company c where sm.company_id\=cc.company_id and cc.class_id \= cls.class_id and c.company_id\=cc.company_id and cls.level_id\=1 and (i1.index_id\=i2.index_id) and (i1.index_id\=s1.index_id) and (s1.index_id\=s2.index_id) and (i1.adjusted_tmcv-i2.adjusted_tmcv<>0) and (s1.stock_id\=s2.stock_id) and (s1.mcv-s2.mcv<>0) and sm.stock_id\=s1.stock_id group by cls.class_name
select_sector_contri_to_change_in_index1=select cls.class_name,sum(to_number((((s1.mcv-s2.mcv)/(i1.adjusted_tmcv-i2.adjusted_tmcv))*100),'9999999999999999999999999999999999999999d99')) as weightage from(select adjusted_tmcv,index_id from index_value_daily where index_id\=3259 and to_date(index_value_date,'dd-mm-yyyy')\= (select max(to_date(index_value_date,'dd-mm-yyyy')) from  index_value_daily ivd where index_id\=3259 and to_date(index_value_date,'dd-mm-yyyy')<\=to_date('10-09-2007','dd-mm-yyyy') )) i1 , (select adjusted_tmcv,index_id from index_value_daily where index_id\=3259 and to_date(index_value_date,'dd-mm-yyyy')\= (select max(to_date(index_value_date,'dd-mm-yyyy')) from index_value_daily ivd where index_id\=3259 and to_date(index_value_date,'dd-mm-yyyy')<\=to_date('07-09-2007','dd-mm-yyyy') )) i2 , (select spd.mcv,spd.stock_id,ic.index_id,spd.stock_price_date from stock_price_daily spd, index_composition ic where ic.index_id\=3259 and to_date(spd.stock_price_date,'dd-mm-yyyy')\= (select max(to_date(stock_price_date,'dd-mm-yyyy')) from  stock_price_daily where to_date(stock_price_date,'dd-mm-yyyy')<\=to_date('10-09-2007','dd-mm-yyyy')) and ic.stock_id\=spd.stock_id) s1, (select spd.mcv,spd.stock_id,ic.index_id,spd.stock_price_date from stock_price_daily spd, index_composition ic where ic.index_id\=3259 and to_date(spd.stock_price_date,'dd-mm-yyyy')\= (select max(to_date(stock_price_date,'dd-mm-yyyy')) from  stock_price_daily where to_date(stock_price_date,'dd-mm-yyyy')<\=to_date('07-09-2007','dd-mm-yyyy')) and ic.stock_id\=spd.stock_id) s2 , stock_master sm ,class_company cc, class cls,company c where  sm.company_id\=cc.company_id and cc.class_id \= cls.class_id and c.company_id\=cc.company_id and cls.level_id\=1  and (i1.index_id\=i2.index_id) and (i1.index_id\=s1.index_id) and (s1.index_id\=s2.index_id) and  (i1.adjusted_tmcv-i2.adjusted_tmcv<>0) and (s1.stock_id\=s2.stock_id) and (s1.mcv-s2.mcv<>0) and sm.stock_id\=s1.stock_id group by cls.class_name
select_home_page=select home_page from users where user_id\=?
get_base_value_from_indexmaster=select base_value from index_master where index_id\=?
select_Mcap_by_stockid_historic=select mcv from stock_price_daily where stock_id\=? and stock_price_date\=(?,'dd-mm-yyyy')
stkcomposition=select stock_id,stock_name from stock_master where stock_id in (select stock_id from  index_composition  where index_id \=?) order by stock_name
ecxhstocks=select stock_id,stock_name from stock_master where stock_id in (select stock_id from  stock_exchange_master where stock_exchange_id \=?) order by stock_name
index_define_detial=select * from index_master where index_id\=?
getindextypename=select index_type_name from index_type where index_type_id in(select index_type_id from index_master where index_id \=?)
getbasecurrency=select currency_name from currencies where currency_id in(select base_currency_id from index_master where index_id \=?)
compute_index_back_test=select mcv from stock_price_daily where stock_id \=? and stock_price_date \=?
new_get_latest_all_index_details=select im.index_name ,idi.index_value as current,ivd.index_opening_value,ivd.index_highest_value,ivd.index_lowest_value,ivd.index_closing_value, lst.indexclsvalue,ivd.tmcv,ivd.divisor,c.currency_code,ivd.index_value_date,im.n_stop_time,ivd.index_id,ivd.FWH,ivd.FWL from index_value_daily ivd left outer join (select max(ivd.index_closing_value) as indexclsvalue ,ivd.index_id from  index_value_daily ivd where to_date(ivd.index_value_date,'dd-mm-yyyy') in (select max(to_date(index_value_date,'dd-mm-yyyy')) from  index_value_daily where to_date(index_value_date,'dd-mm-yyyy')<to_date(?,'dd-mm-yyyy') group by index_id ) group by ivd.index_id)  as lst on(lst.index_id\=ivd.index_id) ,  index_master im,  intra_day_indices idi,  currencies c where   im.index_id\=ivd.index_id and im.is_active\='y' and is_child\='n' and idi.index_id\=ivd.index_id  and idi.index_on_date\=ivd.index_value_date  and c.currency_id\=im.base_currency_id and intra_day_indices_id in (select max(intra_day_indices_id) from  intra_day_indices idi  group by idi.index_id)  order by to_date(ivd.index_value_date,'dd-mm-yyyy')
get_oneweek_before_index_value12 select index_id,index_closing_value from index_value_daily where to_date(index_value_date,'dd-mm-yyyy')\=to_date(?,'dd-mm-yyyy') and index_id\=? 
get_oneweek_before_index_value select index_closing_value from index_value_daily where to_date(index_value_date,'dd-mm-yyyy') in (select max(to_date(index_value_date,'dd-mm-yyyy')) from index_value_daily  where to_date(index_value_date,'dd-mm-yyyy') <\= to_date(?,'dd-mm-yyyy') and index_id\=? ) and index_id\=? 
get_stock_list_for_report=select sm.stock_id,stock_name,sm.tis,spd.stock_closing_value, face_value,stock_price_date,(sm.tis*spd.stock_closing_value) as mcap  from stock_master sm,stock_price_daily spd where stock_exchange_id\=?  and spd.stock_id\=sm.stock_id and stock_price_daily_id in (select max(stock_price_daily_id) from stock_price_daily  group by  stock_id ) order by to_date(stock_price_date,'dd-mm-yyyy') desc
excludedstockname=select stock_name from stock_master where stock_id \=?
get_stock_id=select stock_id from stock_master where stock_name \=?
update_index_value_daily_backtrack=update index_value_daily set index_id\=?,adjusted_tmcv\=?,adjusted_divisor\=? where index_id\=? and to_date(index_value_date,'dd-mm-yyyy')\= (select min(to_date(index_value_date,'dd-mm-yyyy')) from  index_value_daily  where index_id\=?)
select_backtrack_divisor=select adjusted_divisor from  index_value_daily where index_id\=? and to_date(index_value_date,'dd-mm-yyyy')\= (select min(to_date(index_value_date,'dd-mm-yyyy')) from  index_value_daily  where index_id\=?)
getidxname=select index_name from index_master where index_id\=?
getbasedate=select base_date from index_master where index_id\=?
getbasevalue=select base_value from index_master where index_id\=?
indexUpdate_del_compose=delete from index_composition where index_id\=? 
get_Fiftytwo_Week_HighLow=select max(index_closing_value),min(index_closing_value) from index_value_daily where index_closing_value in (select index_closing_value from index_value_daily  where index_id\=? order by  index_value_daily_id  desc limit 257 )
demo_get_latest_all_index_details=select im.index_name ,idi.index_value as current, ivd.index_opening_value, ivd.index_highest_value, ivd.index_lowest_value, ivd.index_closing_value, lst.indexclsvalue, ivd.tmcv,ivd.divisor, c.currency_code, ivd.index_value_date, im.n_stop_time, ivd.index_id from index_value_daily ivd left outer join (select ivd.index_closing_value as indexclsvalue ,ivd.index_id from  index_value_daily ivd  where to_date(ivd.index_value_date,'dd-mm-yyyy')in (select max(to_date(index_value_date,'dd-mm-yyyy')) from  index_value_daily where to_date(index_value_date,'dd-mm-yyyy')<to_date(?,'dd-mm-yyyy') group by ivd.index_id))  as lst on(lst.index_id \=ivd.index_id),index_master im, intra_day_indices idi,  currencies c where im.index_id\=ivd.index_id and im.is_active\='y' and is_child\='n' and idi.index_id\=ivd.index_id  and idi.index_on_date\=ivd.index_value_date  and c.currency_id\=im.base_currency_id and intra_day_indices_id in (select max(intra_day_indices_id) from  intra_day_indices idi  group by idi.index_id)  order by to_date(ivd.index_value_date,'dd-mm-yyyy')
get_before_max_date=select max(to_date(index_value_date,'dd-mm-yyyy'))as maxdate1,index_id from index_value_daily where to_date(index_value_date,'dd-mm-yyyy')<to_date(?,'dd-mm-yyyy') and index_id\=? group by index_id
get_mvc_from_indexcomposition_directaly=select mcv from index_composition where index_id\=?  
tree_stockBonds=SELECT stock_id, stock_name  FROM stock_master_bonds
select_*_from_idxcmpid=select compliance_id from from index_compliance where compliance_name\=? 
fixed_income_index_type_list=select index_type_id,index_type_name from  index_type where segment\='FI' order by index_type_name
select_mcap_for_fixed_income_index_composition=select * from get_mcap_for_fixed_income_index_composition_using_join_new(?,?) as a(stock_id varchar,stock_name varchar,iwf varchar,price_date varchar,ltp varchar,currency_code varchar,tis varchar,market_lot varchar,stock_currency_id varchar)
mcapquery11=select stock_id ,max(mcv) from stock_price_daily  where stock_id in (select stock_id from stock_master where stock_type_id\=? and stock_exchange_id\=?)and to_date(stock_price_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and to_date(stock_price_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') group by stock_id  having max(mcv)>\=?  and max(mcv)<\=? order by 2 desc limit ? 
tvolquery11=select stock_id ,avg(traded_volume) from stock_price_daily  where stock_id in (select stock_id from stock_master where stock_type_id\=? and stock_exchange_id\=?)and to_date(stock_price_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and to_date(stock_price_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') group by stock_id  having avg(traded_volume)>\=?  and avg(traded_volume)<\=? order by 2 desc limit ? 
tvalquery11=select stock_id ,avg(stock_closing_value*traded_volume) as Avg_traded_value from stock_price_daily  where stock_id in (select stock_id from stock_master where stock_type_id\=? and stock_exchange_id\=?)and to_date(stock_price_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and to_date(stock_price_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') group by stock_id  having avg(stock_closing_value*traded_volume)>\=?  and avg(stock_closing_value*traded_volume)<\=? order by 2 desc limit ? 
mcapquery12=select stock_id ,max(mcv) from stock_price_daily  where stock_id in (select stock_id from stock_master where stock_type_id\=? and stock_exchange_id\=?)and to_date(stock_price_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and to_date(stock_price_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') group by stock_id  having max(mcv)>\=?  and max(mcv)<\=? order by 2 limit ? 
tvolquery12=select stock_id ,avg(traded_volume) from stock_price_daily  where stock_id in (select stock_id from stock_master where stock_type_id\=? and stock_exchange_id\=?)and to_date(stock_price_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and to_date(stock_price_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') group by stock_id  having avg(traded_volume)>\=?  and avg(traded_volume)<\=? order by 2 limit ? 
tvalquery12=select stock_id ,avg(stock_closing_value*traded_volume) as Avg_traded_value from stock_price_daily  where stock_id in (select stock_id from stock_master where stock_type_id\=? and stock_exchange_id\=?)and to_date(stock_price_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and to_date(stock_price_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') group by stock_id  having avg(stock_closing_value*traded_volume)>\=?  and avg(stock_closing_value*traded_volume)<\=? order by 2 limit ? 
mcapquery2=select stock_id ,max(mcv) from stock_price_daily  where stock_id in (select stock_id from stock_master where stock_type_id\=? and stock_exchange_id\=?)and to_date(stock_price_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and to_date(stock_price_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') group by stock_id  having max(mcv)>\=?  and max(mcv)<\=? order by 2
tvolquery2=select stock_id ,avg(traded_volume) from stock_price_daily  where stock_id in (select stock_id from stock_master where stock_type_id\=? and stock_exchange_id\=?)and to_date(stock_price_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and to_date(stock_price_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') group by stock_id  having avg(traded_volume)>\=?  and avg(traded_volume)<\=? order by 2
tvalquery2=select stock_id ,avg(stock_closing_value*traded_volume) as Avg_traded_value from stock_price_daily  where stock_id in (select stock_id from stock_master where stock_type_id\=? and stock_exchange_id\=?)and to_date(stock_price_date,'dd-mm-yyyy')>\=to_date(?,'dd-mm-yyyy') and to_date(stock_price_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') group by stock_id  having avg(stock_closing_value*traded_volume)>\=?  and avg(stock_closing_value*traded_volume)<\=? order by 2
mcapquery31=select stock_id ,max(mcv) from stock_price_daily  where stock_id in (select stock_id from stock_master where stock_type_id\=?  and stock_exchange_id\=?) group by stock_id  having max(mcv)>\=?  and max(mcv)<\=? order by 2 desc limit ? 
tvolquery31=select stock_id ,avg(traded_volume) from stock_price_daily  where stock_id in (select stock_id from stock_master where stock_type_id\=?  and stock_exchange_id\=?) group by stock_id  having avg(traded_volume)>\=?  and avg(traded_volume)<\=? order by 2 desc limit ? 
tvalquery31=select stock_id ,avg(stock_closing_value*traded_volume) as Avg_traded_value from stock_price_daily  where stock_id in (select stock_id from stock_master where stock_type_id\=?  and stock_exchange_id\=?) group by stock_id  having avg(stock_closing_value*traded_volume)>\=?  and avg(stock_closing_value*traded_volume)<\=? order by 2 desc limit ? 
mcapquery32=select stock_id ,max(mcv) from stock_price_daily  where stock_id in (select stock_id from stock_master where stock_type_id\=?  and stock_exchange_id\=?) group by stock_id  having max(mcv)>\=?  and max(mcv)<\=? order by 2 limit ? 
tvolquery32=select stock_id ,avg(traded_volume) from stock_price_daily  where stock_id in (select stock_id from stock_master where stock_type_id\=?  and stock_exchange_id\=?) group by stock_id  having avg(traded_volume)>\=?  and avg(traded_volume)<\=? order by 2 limit ? 
tvalquery32=select stock_id ,avg(stock_closing_value*traded_volume) as Avg_traded_value from stock_price_daily  where stock_id in (select stock_id from stock_master where stock_type_id\=?  and stock_exchange_id\=?) group by stock_id  having avg(stock_closing_value*traded_volume)>\=?  and avg(stock_closing_value*traded_volume)<\=? order by 2 limit ? 
mcapquery4=select stock_id ,max(mcv) from stock_price_daily  where stock_id in (select stock_id from stock_master where stock_type_id\=?  and stock_exchange_id\=?) group by stock_id  having max(mcv)>\=?  and max(mcv)<\=? order by 2
tvolquery4=select stock_id ,avg(traded_volume) from stock_price_daily  where stock_id in (select stock_id from stock_master where stock_type_id\=?  and stock_exchange_id\=?) group by stock_id  having avg(traded_volume)>\=?  and avg(traded_volume)<\=? order by 2
tvalquery4=select stock_id ,avg(stock_closing_value*traded_volume) as Avg_traded_value from stock_price_daily  where stock_id in (select stock_id from stock_master where stock_type_id\=?  and stock_exchange_id\=?) group by stock_id  having avg(stock_closing_value*traded_volume)>\=?  and avg(stock_closing_value*traded_volume)<\=? order by 2
get_ind_class_filter=select stock_id,stock_name  from stock_master where stock_exchange_id\=? and stock_type_id\=? and company_id in (select company_id from class_company where class_id in(select class_id from index_compliance_class where compliance_id\=?));

select_mcv_from_fixed_income_stock_master=select mcv from fixed_income_stock_price_daily where fi_stock_id\=? and stock_price_date\=?
fixed_income_compute_index=select fi_intra_day_stock_price_id,to_char(ltp,'999999999909.09') as "ltp",market_lot, stock_id ,tis, price_date,price_time ,stock_currency_id ,base_currency_id ,iwf ,base_value from fixed_income_compute_index1(?,?) as ss(fi_intra_day_stock_price_id int8,ltp float8,market_lot int8,stock_id int8,tis int8, price_date varchar(20),price_time varchar(20),stock_currency_id int8,base_currency_id varchar(20),iwf float4,base_value float8)
insert_into_fixed_income_index_composition=insert into  index_composition values((SELECT nextval('index_stock_id')),?,?,?,?,?,?)
get_sequence_stockbond_id=SELECT NEXTVAL('stock_id_bonds')
insert_into_fixed_income_stock_master=INSERT INTO fixed_income_stock_master(stock_id,stock_type_id,company_id, iwf, tis, stock_name, face_value,listing_date, alert_percentage, rejection_percentage, market_lot,stock_exchange_id, country_id,stock_currency_id,is_price_for_lot, paid_value, start_date, maturity_date, coupon_percentage,coupon_period, interest_rate_daysinmonth, interest_rate_daysinyear,description, issue_size, issue_date, delisting_date,is_active)VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,?)
insert_into_fixed_income_rating_code_mapping=INSERT INTO fixed_income_rating_code_maping(stock_id, rating_code)VALUES (?, ?)
delete_rating_code_from_fixed_income_rating_code_mapping=DELETE FROM fixed_income_rating_code_maping WHERE stock_id\=?
get_max_fixed_income_stock_id= select max(stock_id)  from fixed_income_stock_master
insert_into_stock_identifier_code_fixed_income=INSERT INTO stock_identifier_codes(stock_identifier_code_id, identifier_code_id, identifier_code_value,  fi_stock_id)VALUES (?,?,?,?)
fixed_income_stock_weightage_latest_for_compute_index=select \tsm.stock_id, sm.stock_name,c.currency_code,sm.tis, ic.iwf, spd.adjusted_price,(ic.mcv) as mcv,((ic.mcv)/sp.tmcv)*100  as weightage,spd.stock_price_date,sm.market_lot,spd.ltp from index_composition ic,fixed_income_stock_master sm,currencies c,fixed_income_stock_price_daily spd,(select sum(ic.mcv) as tmcv,ic.index_id from index_composition ic where ic.index_id\=?  group by ic.index_id) as sp where sm.is_active\='y' and  sp.index_id\=ic.index_id and ic.fi_stock_id\=sm.stock_id and sm.stock_id\=spd.fi_stock_id and ic.fi_stock_id\=spd.fi_stock_id  and sm.stock_currency_id\=c.currency_id  and fi_stock_price_daily_id in (select max(fi_stock_price_daily_id) from fixed_income_stock_price_daily where \tto_date(stock_price_date,'dd-mm-yyyy') in (select max(to_date(stock_price_date,'dd-mm-yyyy')) from fixed_income_stock_price_daily group by fi_stock_id) group by fi_stock_id) order by to_date(spd.stock_price_date,'dd-mm-yyyy')
fixed_income_stock_name_select=select stock_name from fixed_income_stock_master where stock_id \= ?
fixed_income_check_for_price_on_date=select ltp from fixed_income_stock_price_daily where stock_price_date\=? and fi_stock_id in (select fi_stock_id from index_composition where index_id\=?)
fixed_income_get_distinct_currency_id_for_composition_scrips=select distinct stock_currency_id,base_currency_id from fixed_income_stock_master s,index_master i,index_composition isc where i.index_id\=? and i.index_id\=isc.index_id and isc.fi_stock_id\=s.stock_id
fixed_income_update_index_compose_mcv=update  index_composition set mcv\=?  where index_id\=? and fi_stock_id\=?
fixed_income_daily_index_values=select index_closing_value,tmcv,adjusted_divisor from  index_value_daily  where index_value_daily_id in  (select max(index_value_daily_id) from  index_value_daily where index_id\=?)
fixed_income_index_list_without_child=select index_id,index_name from  index_master where is_active\='y' and is_captured\='n' order by upper(index_name),to_date(creation_date,'dd-mm-yyyy')
insert_into_stock_price_daily_fi=INSERT INTO fixed_income_stock_price_daily(fi_stock_price_daily_id,stock_close_value, fi_stock_id,stock_price_date, adjusted_price, mcv,ltp, adjusted_mcv,tis, stock_bid_value, stock_ask_value, stock_accured_interest)VALUES ((select nextval('fi_stock_price_daily_id')),?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
get_tis_symbol_wise_fi=select identifier_code_value,sm.stock_id from  fixed_income_stock_master sm, stock_identifier_codes sic, stock_exchange_master sem where sem.stock_ex_id\=? and  sm.is_active\='y' and sm.stock_id\=sic.fi_stock_id and sem.identifier_code_id\=sic.identifier_code_id order by identifier_code_value
insert_into_intra_day_stock_prices_fi=insert into  fixed_income_intra_day_stock_prices(fi_intra_day_stock_price_id,ltp,price_date,price_time,fi_stock_id)values((select nextval('fi_intra_day_stock_price_id')),?,?,?,?)
stock_details_for_fixed_income_stock_master=SELECT stock_id, stock_type_id, company_id, iwf, tis, stock_name, face_value, listing_date, alert_percentage, rejection_percentage, market_lot, stock_exchange_id, country_id, is_active, stock_currency_id, is_price_for_lot, paid_value, start_date, maturity_date, coupon_percentage,coupon_period, interest_rate_daysinmonth, interest_rate_daysinyear, accrued_interest, description, issue_size, issue_date, delisting_date FROM fixed_income_stock_master where stock_id\=?
get_exchange_code_name_for_fixed_income_stockid=select * from stock_identifier_codes where fi_stock_id\=? and identifier_code_id in (select identifier_code_id from stock_exchange_master where stock_ex_id in (select stock_exchange_id from fixed_income_stock_master where stock_id\=?))
get_identifier_code_name_for_fixed_income_stockid=select * from stock_identifier_codes where fi_stock_id\=? and identifier_code_id in (select identifier_code_id from identifier_codes where lower(identifier_code_name)\=lower(?))
identifier_code_belongs_to_fixed_income=select sic.identifier_code_value,sm.stock_id,sm.stock_name,st.stock_type_name,c.company_name,sem.stock_ex_name from  fixed_income_stock_master sm,stock_identifier_codes sic,stock_type st,company c,stock_exchange_master sem where sic.identifier_code_value\=? and sic.fi_stock_id\=sm.stock_id and sm.stock_type_id\=st.stock_type_id and sm.company_id\=c.company_id and sm.stock_exchange_id\=sem.stock_ex_id
tree_stockBonds_fixed_income=SELECT stock_id, stock_name  FROM fixed_income_stock_master
index_type_list_new=select index_type_id,index_type_name from  index_type order by index_type_name
fixed_income_stock_details_for_ca=select sd.currency_code,sdlcd.sedol,isincd.isin ,riccd.ric,cspcd.cusip,excd.exchange_code,tkrcd.ticker,sd.stock_id,sd.listing_date,sd.stock_name,sd.iwf,sd.company_name,sd.tis,sd.stock_ex_name,sd.country_name, sd.face_value,sd.sub_industry_name, adro.adr_ratio,spd.stock_close_value,spd.adjusted_price,sd.market_lot from fi_stock_details sd left outer join exchange_code excd on (sd.stock_id\=excd.stock_id)  left outer join sedol_code sdlcd on (sd.stock_id\=sdlcd.stock_id) left outer join isin_code isincd on (sd.stock_id\=isincd.stock_id)  left outer join ric_code riccd on (sd.stock_id\=riccd.stock_id)left outer join cusip_code cspcd on (sd.stock_id\=cspcd.stock_id)  left outer join ticker_code tkrcd on (sd.stock_id\=tkrcd.stock_id) left outer join adr_ratio adro on (sd.stock_id\=adro.stock_id)  left outer join  (select stock_close_value,fi_stock_id,adjusted_price from fixed_income_stock_price_daily  where to_date(stock_price_date,'dd-mm-yyyy') in  (select max(to_date(stock_price_date,'dd-mm-yyyy')) from fixed_income_stock_price_daily where fi_stock_id\=?)) spd on (sd.stock_id\=spd.fi_stock_id)  where sd.stock_id\=? limit 1 
fixed_income_get_undo_close_value=select * from fixed_income_stock_price_daily where fi_stock_id\=? and to_date(stock_price_date,'dd-mm-yyyy') <\=to_date(?,'dd-mm-yyyy') order by to_date(stock_price_date,'dd-mm-yyyy') desc LIMIT 1
fixed_income_get_corporate_list_stock=select cam_id,cam_name,cam_shortname from corporate_action_master where corporate_action_type\='fixedincome event' order by upper(cam_name)
fixed_income_select_corporate_action_diary=select * from corporate_action_diary where cam_id\=? and fi_stock_id\=? and status\='n' and to_date(apply_on_date,'dd-mm-yyyy')\=to_date(?,'dd-mm-yyyy')
fixed_income_get_resp_date_closevalue=select * from fixed_income_stock_price_daily where fi_stock_id\=? and to_date(stock_price_date,'dd-mm-yyyy')\=to_date(?,'dd-mm-yyyy')
fixed_income_check_corp_existance=select * from corporate_action_diary where cam_id\=? and fi_stock_id\=? and apply_on_date\=? and status\='n'
fixed_income_insert_into_cad_values_with_time=insert into corporate_action_diary (cad_id,announce_date,ex_date,record_date,apply_on_date,applied_date,ratio_for_shares,ratio_shares_offered,amount,percentage,status,description,cam_id,fi_stock_id,values,bc_start_date,bc_end_date,nd_start_date,nd_end_date,applied_time) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
fixed_income_update_tis_stockmaster=update  fixed_income_stock_master set  tis\=?,face_value\=? where stock_id\=? 
fixed_income_update_tis_after_ca=update  fixed_income_stock_price_daily set tis\=?,adjusted_price\=? ,mcv\=? where fi_stock_id\=? and  to_date(stock_price_date,'dd-mm-yyyy')\= (select max(to_date(stock_price_date,'dd-mm-yyyy')) from  fixed_income_stock_price_daily where fi_stock_id\=?)
fixed_income_update_undo_stock_price=update  fixed_income_stock_price_daily set adjusted_price\=?,mcv\=? where fi_stock_price_daily_id\=?
fixed_income_select_index_composition=select * from index_composition where fi_stock_id\=?
fixed_income_update_index=update index_composition set iwf\=?,mcv\=? where fi_stock_id\=? and index_id\=?
fixed_income_select_stkprice_historic=select adjusted_price,stock_close_value,fi_stock_price_daily_id,stock_price_date from fixed_income_stock_price_daily where fi_stock_id\=? and to_date(stock_price_date ,'dd-mm-yyyy') > to_date(?,'dd-mm-yyyy')
fixed_income_detail_stock_master=select * from fixed_income_stock_master where stock_id\=?
fixed_income_affected_index_by_ca=select ic.index_id,index_name,ic.iwf,ic.fi_stock_id  from  index_composition ic, index_master im where fi_stock_id\=? and ic.index_id\=im.index_id order by index_name
fixed_income_select_stock_price_detail=select * from fixed_income_stock_price_daily where fi_stock_id\=? and to_date(stock_price_date,'dd-mm-yyyy') \=(select max(to_date(stock_price_date,'dd-mm-yyyy')) from  fixed_income_stock_price_daily where fi_stock_id\=?)
fixed_income_stock_list=select stock_id,stock_name,is_active from  fixed_income_stock_master where stock_exchange_id\=? order by upper(stock_name)
index_list_without_child_bench=select index_id,index_name from  index_master where is_active\='y' and is_child\='n' and is_captured\='n' and next_day\=1 order by upper(index_name),to_date(creation_date,'dd-mm-yyyy')
get_latest_all_index_details_bench=select im.index_name ,idi.index_value as current,ivd.index_opening_value,ivd.index_highest_value,ivd.index_lowest_value,ivd.index_closing_value, lst.indexclsvalue,ivd.tmcv,ivd.divisor,c.currency_code,ivd.index_value_date,im.n_stop_time,ivd.index_id from index_value_daily ivd left outer join (select max(ivd.index_closing_value) as indexclsvalue ,ivd.index_id from  index_value_daily ivd where to_date(ivd.index_value_date,'dd-mm-yyyy') in (select max(to_date(index_value_date,'dd-mm-yyyy')) from  index_value_daily where to_date(index_value_date,'dd-mm-yyyy')<to_date(?,'dd-mm-yyyy') group by index_id ) group by ivd.index_id)  as lst on(lst.index_id\=ivd.index_id) ,  index_master im,  intra_day_indices idi,  currencies c where   im.index_id\=ivd.index_id and im.is_active\='y' and next_day\=1 and is_child\='n' and idi.index_id\=ivd.index_id  and idi.index_on_date\=ivd.index_value_date  and c.currency_id\=im.base_currency_id and intra_day_indices_id in (select max(intra_day_indices_id) from  intra_day_indices idi  group by idi.index_id)  order by to_date(ivd.index_value_date,'dd-mm-yyyy')
index_performance_over_month_quater_half_annual_online=select im.index_id,im.index_name,cr_value,(cr_value-lst_value) as per,(cr_value-lst_value1) as per1,(cr_value-lst_value2) as per2,(cr_value-lst_value3) as per3  from (select index_id, index_name,user_id,next_day  from index_master where is_active\='y' and is_child\='n') im left outer join (select ivd.index_id,ivd.index_closing_value as cr_value from  index_value_daily ivd where index_value_daily_id in  (select max(index_value_daily_id) from  index_value_daily where to_date(index_value_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') group by index_id )) cr on (im.index_id\=cr.index_id) left outer join (select ivd.index_id,ivd.index_closing_value as lst_value from  index_value_daily ivd where index_value_daily_id in (select max(index_value_daily_id) from  index_value_daily where to_date(index_value_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') group by index_id ) ) lst on (cr.index_id\=lst.index_id) left outer join (select ivd.index_id,ivd.index_closing_value as lst_value1 from  index_value_daily ivd where index_value_daily_id in (select max(index_value_daily_id) from index_value_daily where to_date(index_value_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') group by index_id ) ) lst1 on (cr.index_id\=lst1.index_id) left outer join (select ivd.index_id,ivd.index_closing_value as lst_value2 from  index_value_daily ivd where index_value_daily_id in (select max(index_value_daily_id) from  index_value_daily where to_date(index_value_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') group by index_id ) ) lst2 on (cr.index_id\=lst2.index_id) left outer join (select ivd.index_id,ivd.index_closing_value as lst_value3 from  index_value_daily ivd where index_value_daily_id in (select max(index_value_daily_id) from  index_value_daily where to_date(index_value_date,'dd-mm-yyyy')<\=to_date(?,'dd-mm-yyyy') group by index_id ) ) lst3 on (cr.index_id\=lst3.index_id) where im.index_id\=cr.index_id and im.next_day\=1 or im.user_id \=? order by upper(index_name)
select_role_id_of_user=select role_id from user_roles where user_id\=?
select_order_id_of_user=select order_id from user_subscription where user_id\=? and is_active\='y'
select_index_id_of_user=select index_id from index_master where user_id\=?
select_no_of_stocks_userwise=select no_of_stock from subscription_master where subscription_id\=?
new_get_latest_all_index_details_user=select im.index_name ,idi.index_value as current,ivd.index_opening_value,ivd.index_highest_value,ivd.index_lowest_value,ivd.index_closing_value, lst.indexclsvalue,ivd.tmcv,ivd.divisor,c.currency_code,ivd.index_value_date,im.n_stop_time,ivd.index_id,ivd.FWH,ivd.FWL from index_value_daily ivd left outer join (select max(ivd.index_closing_value) as indexclsvalue ,ivd.index_id from  index_value_daily ivd where to_date(ivd.index_value_date,'dd-mm-yyyy') in (select max(to_date(index_value_date,'dd-mm-yyyy')) from  index_value_daily where to_date(index_value_date,'dd-mm-yyyy')<to_date(?,'dd-mm-yyyy') group by index_id ) group by ivd.index_id)  as lst on(lst.index_id\=ivd.index_id) ,  index_master im,  intra_day_indices idi,  currencies c where   im.index_id\=ivd.index_id and im.is_active\='y' and is_child\='n' and idi.index_id\=ivd.index_id  and idi.index_on_date\=ivd.index_value_date  and c.currency_id\=im.base_currency_id and intra_day_indices_id in (select max(intra_day_indices_id) from  intra_day_indices idi  group by idi.index_id) and user_id\=?  order by to_date(ivd.index_value_date,'dd-mm-yyyy')
new_get_latest_all_index_details_bench=select im.index_name ,idi.index_value as current,ivd.index_opening_value,ivd.index_highest_value,ivd.index_lowest_value,ivd.index_closing_value, lst.indexclsvalue,ivd.tmcv,ivd.divisor,c.currency_code,ivd.index_value_date,im.n_stop_time,ivd.index_id,ivd.FWH,ivd.FWL from index_value_daily ivd left outer join (select max(ivd.index_closing_value) as indexclsvalue ,ivd.index_id from  index_value_daily ivd where to_date(ivd.index_value_date,'dd-mm-yyyy') in (select max(to_date(index_value_date,'dd-mm-yyyy')) from  index_value_daily where to_date(index_value_date,'dd-mm-yyyy')<to_date(?,'dd-mm-yyyy') group by index_id ) group by ivd.index_id)  as lst on(lst.index_id\=ivd.index_id) ,  index_master im,  intra_day_indices idi,  currencies c where   im.index_id\=ivd.index_id and im.is_active\='y' and is_child\='n' and idi.index_id\=ivd.index_id  and idi.index_on_date\=ivd.index_value_date  and c.currency_id\=im.base_currency_id and intra_day_indices_id in (select max(intra_day_indices_id) from  intra_day_indices idi  group by idi.index_id) and im.next_day\=1  order by to_date(ivd.index_value_date,'dd-mm-yyyy')

user_login=select user_id from users  r where r.username\=? and r.password\=?
insert_user=INSERT INTO users (user_id,username,email,password, first_name, last_name, contact_no, add1,city,zipcode, state, country,isconfirm,home_page)VALUES ((select max(user_id) from users)+1,? ,?, ?, ?, ?, ?, ?, ?,?,?,?,'n',?)
check_user=select user_id from  users  where username\=? 
get_userid=select user_id from  users  where username\=? and password\=?
confirm_user=UPDATE users  r SET isconfirm\=? WHERE r.username\=? and r.password\=?
get_roleid=select role_id from roles where role_name\='register_user'
insert_userrole=INSERT INTO user_roles(user_id, role_id)VALUES (?, ?)
user_details=select u.subscription_id,u.sub_date ,duration,age(CURRENT_DATE,to_date(u.sub_date,'mm dd yyyy')),s.sub_name from user_subscription u ,subscription_master s  where username\=? and s.subscription_id\=u.subscription_id
user_account_info=select us.subscription_id,us.sub_date,sm.duration,sm.textduration,sm.charges,sm.sub_name,sm.no_of_stock,us.order_id,index_name,index_id from subscription_master as sm, user_subscription us  left outer join index_master i on (i.order_id\=us.order_id) where  us.subscription_id\=sm.subscription_id and  us.user_id\=?  and us.is_active\='y'
cancel_user_subscription=delete from user_subscription where user_id\=? and subscription_id\=?
check_user_subscription=select 1 from user_subscription where user_id\=? and subscription_id\=?
select_subscription_name=select c.user_id ,c.subscription_id from subscription_master a ,users b ,user_subscription c where sub_name\=? and username\=? and a.subscription_id\=c.subscription_id and b.user_id\=c.user_id
update_user_role=UPDATE user_roles  SET role_id\=76 WHERE user_id\=?;
insert_order_id_into_index_master=select index_id from index_master where user_id\=? and order_id\=?
user_role=select role_id  from  user_roles where user_id\=? 
tree_stocks_online=select sic.identifier_code_value,sem.stock_ex_code,sic.stock_id from  stock_master sm, stock_identifier_codes sic,  identifier_codes ic,  stock_exchange_master sem where sm.is_active\='y' and sm.stock_id\=sic.stock_id and  sem.identifier_code_id\=ic.identifier_code_id and sm.stock_id in (select stock_id from index_composition where index_id in(select index_id from index_master where user_id\=?)) and ic.identifier_code_id\=sic.identifier_code_id group by sem.stock_ex_code,sic.identifier_code_value,sic.stock_id order by upper(sem.stock_ex_code),upper(sic.identifier_code_value)

update_subscription_status=UPDATE user_subscription set is_active\='n' WHERE user_id\=? and subscription_id\=? 
user_role_registor=UPDATE user_roles  SET role_id\=75 WHERE user_id\=?
stock_exchange_online_list=select stock_ex_id,stock_ex_name from  stock_exchange_master where is_active\='y' order by upper(stock_ex_name)
getpassword=SELECT "password"   FROM users where username\=?;
insert_user_subscription=insert into user_subscription(user_id, subscription_id, sub_date)VALUES (?,?,?)
indexUpdate_get_indices_from_index_master_online=select index_id,index_name,industry_classification_code,is_child from index_master where user_id\=? and index_id not in(select index_id from index_master where industry_classification_code > '0' and is_child\='y') order by upper(index_name)
tree_index_query_online=select im.index_id,index_name,parent_id,ic.stock_name,ic.stock_id ,is_captured ,it.index_type_code from index_type it,index_master im left outer join (select ic.index_id,identifier_code_value as stock_name,ic.stock_id from index_composition ic,stock_master sm,stock_exchange_master sem,stock_identifier_codes sic where ic.stock_id\=sm.stock_id and sm.stock_id\=sic.stock_id and sm.stock_exchange_id\=sem.stock_ex_id and sem.identifier_code_id\=sic.identifier_code_id and ic.index_id in (select index_id from index_master where is_active\='y')) ic on (ic.index_id\=im.index_id) where it.index_type_id\=im.index_type_id and im.user_id\=? or im.next_day\=1 order by im.index_id,parent_id
count_user_subscription=select count(1) from user_subscription where user_id\=? and subscription_id not in (1)
update_subscription_free=UPDATE user_subscription set is_active\='y' WHERE user_id\=? and subscription_id\=1

menu_query=select menu_id,menu_name,haslink,url,menu.activity_id from menu_master menu,roles_activities rolact where menu.activity_id \= rolact.activity_id and role_id\=?  order by menu_order asc
submenu_query=select submenu_id,submenu_name,menu_id,haslink,url from submenu_master submenu,roles_activities rolact where submenu.activity_id \= rolact.activity_id and role_id\=? and menu_id\=? order by submenu_order asc
activity_query=select act_map.act_menu_submenu_id,act_map.activity_name,menu_id,submenu_id,url,act_menu_submenu_order from activity_menu_submenu_mapping as act_map,roles_activities rolact, activities where act_map.act_menu_submenu_id \= rolact.activity_id and rolact.activity_id \= activities.activity_id and role_id\=? and menu_id\=? and submenu_id\=?  order by act_menu_submenu_order asc
select_order_id_subscription_id_of_user=select order_id,subscription_id from user_subscription where user_id\=? and is_active\='y'\t\t\t
select_stock_id_from_index_composition=select stock_id from index_composition where index_id\=?
insert_cancel_data=INSERT INTO cancel_subscription_data(user_name, order_id, user_id, cancel_date)VALUES (?, ?, ?, ?); 
cancel_subscription=UPDATE user_subscription  SET  is_active\='N' WHERE order_id\=? ;
delete_cancel_data=delete from  cancel_subscription_data where order_id\=?
select_indexvalue_to_calculator_report_price = SELECT index_closing_value FROM index_value_daily where index_id\=? and to_date(index_value_date,'dd-mm-yyyy') in  (Select max(to_date(index_value_date,'dd-mm-yyyy')) from index_value_daily)

//New_queries_by_Manoj_Adekar
update_user_lastlogin_datetime=UPDATE users SET  lastLogin=? WHERE user_id=?

//new_query_added_by_samiksha

insert_into_stock_price_daily_if_not_exists=INSERT INTO  stock_price_daily (stock_price_daily_id,stock_opening_value,stock_highest_value,stock_lowest_value,stock_closing_value,stock_id,traded_volume,stock_price_date,adjusted_price,mcv,last,adjusted_mcap) 
SELECT (select nextval('stock_price_daily_id')),3010.0,3323.0,2972.05,3033.95,'226',86171.0,'null',3033.95,2.5698471842715E11,3036.6,2.5698471842715E11
where not exists (select stock_price_daily_id from stock_price_daily where stock_price_daily_id=(select nextval('stock_price_daily_id')))





